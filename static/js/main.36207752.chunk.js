(this.webpackJsonpoccasions=this.webpackJsonpoccasions||[]).push([[0],{232:function(e,c,t){},233:function(e,c,t){},420:function(e,c,t){"use strict";t.r(c);var a=t(9),n=t(1),s=t(3),i=t.n(s),o=t(95),r=t.n(o),l=(t(232),t(233),t(5)),j=t(13),d=t(226),u=t(6),b=function(e){var c=e.component,t=Object(d.a)(e,["component"]),s=Object(u.c)((function(e){return e.auth.loggedIn}));return Object(n.jsx)(j.b,Object(a.a)(Object(a.a)({},t),{},{render:function(e){return!1===s?Object(n.jsx)(j.a,{to:"/"}):Object(n.jsx)(c,Object(a.a)({},e))}}))},h="SET_CURRENT_OCCASION",O="ADD_ITEM_TO_CART",m="SET_CURRENT_CART",x="TOGGLE_PROFILE_MODAL",f="TOGGLE_UNSCHEDULE_MODAL",p="TOGGLE_LOGGED_STATUS",g="SET_CART",v=function(e){return function(c,t,a){a.getFirebase,a.getFirestore;return c({type:p,payload:e})}},N=t(8),y=t(54);var S=function(){return Object(n.jsxs)("div",{className:"home-intro-card-container",children:[Object(n.jsx)(y.a,{className:"home-intro-icon"}),Object(n.jsx)("h2",{className:"home-intro-title",children:"Create an Occasion"}),Object(n.jsx)("p",{className:"home-intro-text",children:"Wheather it's a birthday, and anniversary or graduation, no special occasion should be forgotten."})]})},C=t(220);var D=function(){return Object(n.jsxs)("div",{className:"home-intro-card-container",children:[Object(n.jsx)(C.a,{className:"home-intro-icon"}),Object(n.jsx)("h2",{className:"home-intro-title",children:"Choose a gift"}),Object(n.jsx)("p",{className:"home-intro-text",children:"No matter what you want to say, you'll find the right gift for the right person."})]})};var I=function(){return Object(n.jsxs)("div",{className:"home-intro-card-container",children:[Object(n.jsx)(y.b,{className:"home-intro-icon"}),Object(n.jsx)("h2",{className:"home-intro-title",children:"Schedule it!"}),Object(n.jsx)("p",{className:"home-intro-text",children:"Never forget your occasions by scheduling your gift in advance and recieve and email when it's sent."})]})};var k=function(){var e=Object(u.c)((function(e){return e.auth.loggedIn}));return Object(n.jsxs)("div",{className:"home-container",children:[e&&Object(n.jsx)(j.a,{to:"/userhome"}),Object(n.jsx)("h1",{className:"home-title",children:"Occasions"}),Object(n.jsx)("div",{className:"home-line"}),Object(n.jsxs)("div",{className:"home-intro-container",children:[Object(n.jsx)(S,{}),Object(n.jsx)(D,{}),Object(n.jsx)(I,{})]}),Object(n.jsx)("div",{className:"home-line"}),Object(n.jsxs)("div",{className:"home-log-container",children:[Object(n.jsx)(l.b,{to:"/login",children:Object(n.jsx)("h2",{className:"home-log-btn",children:"Log In"})}),Object(n.jsx)(l.b,{to:"/signup",children:Object(n.jsx)("h2",{className:"home-log-btn",children:"Sign Up"})})]})]})},E=t(55),F=function(e){return function(c,t,a){a.getFirebase,a.getFirestore;return c({type:x,payload:e})}};var w=function(){var e=Object(N.useFirebase)();return Object(n.jsx)("h3",{className:"profile-btn-popup-txt",onClick:function(){e.auth().signOut().then((function(){})).catch((function(e){console.log(e)}))},children:"Log out"})};var T=function(){var e=Object(u.b)(),c=Object(u.c)((function(e){return e.modal.profileBtn}));return Object(n.jsxs)("div",{className:"profile-btn-container",children:[Object(n.jsx)("div",{className:"icon profile-btn account-icon",onClick:function(){e(F(!0))},children:Object(n.jsx)(E.a,{className:"navbar-icon"})}),Object(n.jsxs)("div",{style:{display:c?"block":"none",opacity:c?"1":"0"},className:"profile-btn-popup",children:[Object(n.jsx)(l.b,{to:"/userhome",children:Object(n.jsx)("h3",{className:"profile-btn-popup-txt",children:"Occasion List"})}),Object(n.jsx)(l.b,{to:"/scheduledpage",children:Object(n.jsx)("h3",{className:"profile-btn-popup-txt",children:"Scheduled Occasions"})}),Object(n.jsx)(l.b,{to:"/cartpage",children:Object(n.jsx)("h3",{className:"profile-btn-popup-txt",children:"Scheduler"})}),Object(n.jsx)(w,{})]})]})},L=t(4),A=function(){var e=Object(u.c)((function(e){return e.firestore.data.cart})),c=Object(s.useState)([]),t=Object(L.a)(c,2),a=t[0],n=t[1],i=Object(u.c)((function(e){return e.firebase.auth.uid}));return Object(s.useEffect)((function(){if(e)for(var c=0,t=Object.entries(e);c<t.length;c++){var a=Object(L.a)(t[c],2),s=a[0],o=a[1];s===i&&n(o.cart)}}),[a,e,i]),a};var G=function(){Object(N.useFirestoreConnect)(["cart"]);var e=A();return Object(n.jsx)(l.b,{to:"/cartpage",children:Object(n.jsxs)("span",{className:"nav-cart-icon-container",children:[Object(n.jsx)(y.b,{className:"navbar-icon"}),e.length&&0===e.length?null:Object(n.jsx)("div",{className:"nav-cart-number",children:Object(n.jsx)("p",{children:e.length})})]})})},_=t(98);var B=function(){return Object(n.jsx)(l.b,{to:"/addoccasion",children:Object(n.jsx)(_.a,{className:"navbar-icon"})})};var R=function(){return Object(n.jsxs)("div",{className:"left-navbar-container",children:[Object(n.jsx)(B,{}),Object(n.jsx)(G,{}),Object(n.jsx)(T,{})]})};var P=function(){var e=Object(u.c)((function(e){return e.auth.loggedIn}));return Object(n.jsx)("div",{className:"navbar",style:e?{display:"block"}:{display:"none"},children:Object(n.jsxs)("div",{className:"navbar-container",children:[Object(n.jsx)(l.b,{to:"/",children:Object(n.jsx)("h3",{className:"logo",children:"Occasions"})}),Object(n.jsx)(R,{})]})})};var M=function(e){var c=e.text,t=e.onClick,a=e.size;return Object(n.jsx)("button",{onClick:t,className:"sm"===a?"btn-template-container-sm":"btn-template-container",children:Object(n.jsx)("p",{className:"sm"===a?"btn-template-text-sm":"btn-template-text",children:c})})};var U=function(){return Object(n.jsxs)(l.b,{to:"/",children:[" ",Object(n.jsx)("h1",{className:"auth-occasions-title",children:"Occasions"})," "]})},Y=function(e){return/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(e)};var z=function(){var e=Object(s.useState)(""),c=Object(L.a)(e,2),t=c[0],a=c[1],i=Object(s.useState)(""),o=Object(L.a)(i,2),r=o[0],d=o[1],b=Object(s.useState)(""),h=Object(L.a)(b,2),O=h[0],m=h[1],x=Object(s.useState)(""),f=Object(L.a)(x,2),p=f[0],g=f[1],v=Object(s.useState)(!1),y=Object(L.a)(v,2),S=y[0],C=y[1],D=Object(s.useState)(""),I=Object(L.a)(D,2),k=I[0],F=I[1],w=Object(N.useFirebase)(),T=Object(u.c)((function(e){return e.auth.loggedIn})),A=function(e){switch(C(!1),m(!1),C(!1),e.target.name){case"email":a(e.target.value);break;case"password":d(e.target.value)}};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(U,{}),Object(n.jsxs)("div",{className:"auth-container",children:[T&&Object(n.jsx)(j.a,{to:"/userhome"}),Object(n.jsxs)("div",{className:"auth-input-container",children:[Object(n.jsxs)("div",{className:"auth-title-container",children:[Object(n.jsx)(E.a,{className:"auth-icon"}),Object(n.jsx)("h1",{className:"auth-title",children:"Log In"})]}),Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t.trim().length<1||!1===Y(t)?g(!0):g(!1),r.trim().length<6?m(!0):m(!1),O&&p||w.auth().signInWithEmailAndPassword(t,r).then((function(){C(!1)})).catch((function(e){C(!0),F(e.message)}))},className:"auth-form",children:[Object(n.jsxs)("div",{className:"auth-input-inner-container",children:[Object(n.jsx)("label",{children:"E-mail"}),Object(n.jsx)("input",{onChange:A,className:"auth-text-input",name:"email",type:"email",value:t}),Object(n.jsx)("p",{style:p?{opacity:"1"}:{opacity:"0"},className:"auth-error-txt",children:"You must enter a valid e-mail"})]}),Object(n.jsxs)("div",{className:"auth-input-inner-container",children:[Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{onChange:A,className:"auth-text-input",name:"password",type:"password",value:r}),Object(n.jsx)("p",{style:O?{opacity:"1"}:{opacity:"0"},className:"auth-error-txt",children:"Your password must be at least six characters long"})]}),Object(n.jsx)("p",{style:S?{opacity:"1"}:{opacity:"0"},className:"auth-error-txt",children:"".concat(k)}),Object(n.jsx)("div",{className:"auth-input-inner-container auth-bot",children:Object(n.jsx)(M,{text:"Log In"})})]})]}),Object(n.jsx)(l.b,{to:"/signup",children:Object(n.jsx)("p",{className:"auth-bot-text",children:"Or sign up"})})]})]})};var W=function(){var e=Object(s.useState)(""),c=Object(L.a)(e,2),t=c[0],a=c[1],i=Object(s.useState)(""),o=Object(L.a)(i,2),r=o[0],d=o[1],b=Object(s.useState)(""),h=Object(L.a)(b,2),O=h[0],m=h[1],x=Object(s.useState)(""),f=Object(L.a)(x,2),p=f[0],g=f[1],v=Object(s.useState)(""),y=Object(L.a)(v,2),S=y[0],C=y[1],D=Object(s.useState)(""),I=Object(L.a)(D,2),k=I[0],F=I[1],w=Object(s.useState)(""),T=Object(L.a)(w,2),A=T[0],G=T[1],_=Object(s.useState)(""),B=Object(L.a)(_,2),R=B[0],P=B[1],z=Object(u.c)((function(e){return e.auth.loggedIn})),W=Object(N.useFirebase)(),J=Object(N.useFirestore)(),Z=function(e){switch(e.target.name){case"firstName":a(e.target.value),C(!1);break;case"lastName":d(e.target.value),F(!1);break;case"password":g(e.target.value),P(!1);break;case"email":G(!1),m(e.target.value)}};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(U,{}),Object(n.jsxs)("div",{className:"auth-container",children:[z&&Object(n.jsx)(j.a,{to:"/userhome"}),Object(n.jsxs)("div",{className:"auth-input-container",children:[Object(n.jsxs)("div",{className:"auth-title-container",children:[Object(n.jsx)(E.a,{className:"auth-icon"}),Object(n.jsx)("h1",{className:"auth-title",children:"Sign Up"})]}),Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t.trim().length<3?C(!0):C(!1),r.trim().length<3?F(!0):F(!1),p.trim().length<6?P(!0):P(!1),O.trim().length<1||!1===Y(O)?G(!0):G(!1),!1===S&&!1===k&&!1===A&&!1===R&&W.auth().createUserWithEmailAndPassword(O,p).then((function(e){return J.collection("users").doc(e.user.uid).set({firstName:t,lastName:r,eMail:O})})).catch((function(e){console.log(e)}))},className:"auth-form",children:[Object(n.jsxs)("div",{className:"auth-input-inner-container",children:[Object(n.jsx)("label",{children:"First Name"}),Object(n.jsx)("input",{onChange:Z,className:"auth-text-input",type:"text",name:"firstName",value:t}),Object(n.jsx)("p",{style:S?{opacity:"1"}:{opacity:"0"},className:"auth-error-txt",children:"Name must be at least 3 letters"})]}),Object(n.jsxs)("div",{className:"auth-input-inner-container",children:[Object(n.jsx)("label",{children:"Last Name"}),Object(n.jsx)("input",{onChange:Z,className:"auth-text-input",name:"lastName",type:"text",value:r}),Object(n.jsx)("p",{style:k?{opacity:"1"}:{opacity:"0"},className:"auth-error-txt",children:"Last name must be at least 3 letters"})]}),Object(n.jsxs)("div",{className:"auth-input-inner-container",children:[Object(n.jsx)("label",{children:"E-mail"}),Object(n.jsx)("input",{onChange:Z,className:"auth-text-input",name:"email",type:"email",value:O}),Object(n.jsx)("p",{style:A?{opacity:"1"}:{opacity:"0"},className:"auth-error-txt",children:"You must enter a valid e-mail"})]}),Object(n.jsxs)("div",{className:"auth-input-inner-container",children:[Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{onChange:Z,className:"auth-text-input",name:"password",type:"password",value:p}),Object(n.jsx)("p",{style:R?{opacity:"1"}:{opacity:"0"},className:"auth-error-txt",children:"Your password must be at least six characters long"})]}),Object(n.jsx)("div",{className:"auth-input-inner-container auth-bot",children:Object(n.jsx)(M,{text:"Sign Up"})})]})]}),Object(n.jsx)(l.b,{to:"/login",children:Object(n.jsx)("p",{className:"auth-bot-text",children:"Or Log In"})})]})]})},J=t(16),Z=t.n(J),H=function(){var e=Object(N.useFirestore)(),c=Object(s.useState)({}),t=Object(L.a)(c,2),n=t[0],i=t[1],o=Object(u.c)((function(e){return e.firebase.auth.uid}));return Object(s.useEffect)((function(){e.collection("occasions").doc(o).collection("userOccasions").orderBy("occDate","asc").get().then((function(e){var c=[];e.forEach((function(e){c.push(Object(a.a)(Object(a.a)({},e.data()),{},{occasionId:e.id}))}));!function e(t){var a,n=t,s=new Date;if(c[t])return a=new Date(Z()(c[t].occDate.toDate()).format()),s.getTime()<=a.getTime()?void i(c[t]):e(++n)}(0)}))}),[o,e]),n},K=t(99),V=function(e){return function(c,t,a){a.getfirebase,a.getFirestore;c({type:h,payload:e})}};var X=function(){var e=H(),c=Object(u.b)(),t=Date.parse(e),s=Object(a.a)(Object(a.a)({},e),{},{occDateString:t});return Object(n.jsx)("div",{className:"occ-upNext-container",children:e.occName?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h4",{className:"occ-upNext-title",children:"Up Next"}),Object(n.jsx)("h2",{className:"occ-upNext-name",children:"".concat(e.occName,"'s ").concat(e.occasion)}),Object(n.jsxs)("div",{className:"occ-upNext-center",children:[Object(n.jsx)(K.a,{className:"occ-upNext-icon"}),Object(n.jsxs)("div",{className:"occ-upNext-left-container",children:[Object(n.jsxs)("h6",{children:["On ",Z()(e.occDate.toDate()).format("LL")]}),Object(n.jsxs)("p",{children:["That's ",Z()(e.occDate.toDate()).fromNow()," from now!"]})]})]}),!e.occGift&&Object(n.jsx)(l.b,{to:"/occasionpage/".concat(e.occasionId),children:Object(n.jsx)("h4",{onClick:function(){c(V(s))},className:"occ-upNext-gift-txt",children:"Set up a gift for this occasion."})})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h4",{className:"occ-upNext-title",children:"Welcome"}),Object(n.jsx)("h2",{className:"occ-upNext-name",children:"Welcome to Occasions"}),Object(n.jsx)("div",{className:"occ-upNext-center",children:Object(n.jsx)("div",{style:{textAlign:"center"},className:"occ-upNext-left-container",children:Object(n.jsx)("h6",{children:"Create your first occasion by clicking on the plus icon"})})}),Object(n.jsx)(l.b,{to:"/addoccasion",children:Object(n.jsx)(_.a,{style:{fontSize:"40px"},className:"occ-upNext-icon"})})]})})};var Q=function(e){var c=e.setOrderBy,t=i.a.useState("occDate"),a=Object(L.a)(t,2),s=a[0],o=a[1],r=function(e){o(e),c(e)};return Object(n.jsxs)("div",{className:"occ-list-selectors-container",children:[Object(n.jsx)("div",{onClick:function(){r("occName")},className:"occName"===s?"occ-list-btn-container occ-list-btn-container-active":"occ-list-btn-container",children:Object(n.jsx)("h6",{children:"Occasion Name"})}),Object(n.jsx)("div",{onClick:function(){r("occasion")},className:"occasion"===s?"occ-list-btn-container occ-list-btn-container-active":"occ-list-btn-container",children:Object(n.jsx)("h6",{children:"Occasion"})}),Object(n.jsx)("div",{onClick:function(){r("occDate")},className:"occDate"===s?"occ-list-btn-container occ-list-btn-container-active":"occ-list-btn-container",children:Object(n.jsx)("h6",{children:"Occasion Date"})}),Object(n.jsx)("div",{onClick:function(){r("occGift")},className:"occGift"===s?"occ-list-btn-container occ-list-btn-container-active":"occ-list-btn-container",children:Object(n.jsx)("h6",{children:"Occasion Status"})})]})},$=t(221),q=t(222);var ee=function(e){var c=e.presentStatus,t=Object(s.useState)(!1),a=Object(L.a)(t,2),i=a[0],o=a[1],r=Object(s.useState)({}),l=Object(L.a)(r,2),j=l[0],d=l[1],u=Object(s.useRef)(null),b=function(){var e,c=u.current.offsetTop,t=u.current.offsetLeft;e=window.innerWidth-t<180?170:-30,d({top:"".concat(c+35,"px"),left:"".concat(t-e,"px")}),o((function(e){return!e}))};return Object(n.jsx)("div",{style:{position:"relative"},onMouseEnter:function(){b()},onMouseLeave:function(){b()},ref:u,children:Object(n.jsxs)("div",{className:"present-icon-container",children:[Object(n.jsx)($.a,{className:"occ-list-present-icon"}),!c&&Object(n.jsx)(q.a,{className:"present-cancel-icon"}),Object(n.jsx)("div",{style:j,className:i?"present-icon-status present-icon-status-on":"present-icon-status",children:c?"Your gift is already set up!":"You have not set up a gift yet!"})]})})};var ce=function(e){var c=e.occDate,t=e.currentOccasion,s=Object(u.b)(),i=Date.parse(c),o=Object(a.a)(Object(a.a)({},t),{},{occDateString:i});return Object(n.jsx)(l.b,{to:"/occasionpage/".concat(t.occasionId),children:Object(n.jsxs)("div",{className:"occ-list-item-container",onClick:function(){s(V(o))},children:[Object(n.jsx)("h6",{className:"occ-list-single-item-container",children:"".concat(t.occName)}),Object(n.jsx)("h6",{className:"occ-list-single-item-container",children:"".concat(t.occasion)}),Object(n.jsx)("h6",{className:"occ-list-single-item-container",children:"".concat(c)}),Object(n.jsx)("h6",{className:"occ-list-single-item-container",children:Object(n.jsx)(ee,{presentStatus:t.occGift})})]})})};var te=function(){return Object(n.jsxs)("div",{className:"email-sign-container",children:[Object(n.jsx)("h3",{className:"email-sign-title",children:"To test the email functionality click"}),Object(n.jsx)(l.b,{to:"/emailtest",children:Object(n.jsx)(M,{size:"sm",text:"here"})})]})},ae=function(e){var c=Object(N.useFirestore)(),t=Object(s.useState)([]),n=Object(L.a)(t,2),i=n[0],o=n[1],r=Object(u.c)((function(e){return e.firebase.auth.uid}));return Object(s.useEffect)((function(){r&&c.collection("occasions").doc(r).collection("userOccasions").orderBy(e,"asc").get().then((function(e){var c=[];e.forEach((function(e){c.push(Object(a.a)(Object(a.a)({},e.data()),{},{occasionId:e.id}))})),o(c)}))}),[r,c,e]),i};var ne=function(){var e=Object(u.b)(),c=Object(s.useState)("occDate"),t=Object(L.a)(c,2),a=t[0],i=t[1],o=ae(a);return Object(s.useEffect)((function(){e(V(""))})),o.length>=1?Object(n.jsxs)("div",{className:"occ-list-container",children:[Object(n.jsxs)("div",{className:"occ-list-title-container",children:[Object(n.jsx)("h2",{children:"Your upcoming occasions"}),Object(n.jsx)(Q,{setOrderBy:i}),o.map((function(e){var c=new Date;return new Date(Z()(e.occDate.toDate()).format()).getTime()>=c.getTime()?Object(n.jsx)(ce,{to:"/occasionpage/".concat(e.occasionId),occDate:Z()(e.occDate.toDate()).format("ll"),currentOccasion:e},e.occasionId):null}))]}),Object(n.jsx)(te,{})]}):Object(n.jsx)("div",{})};var se=function(){return Object(n.jsxs)("div",{className:"occ-home-container",children:[Object(n.jsx)(X,{}),Object(n.jsx)(ne,{})]})};var ie=function(e){var c=e.nextSlide,t=e.handleChange,a=e.occasion,s=e.error,i=e.slide;return Object(n.jsx)("div",{className:1===i?"add-occ-container ":"add-occ-slide-container add-occ-container-none ",children:Object(n.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},className:"add-occ-form",children:[Object(n.jsx)("h1",{className:"add-occ-title",children:"What's the special occasion?"}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("select",{onChange:t,className:"add-occ-select-occasion",defaultValue:"Select",name:"occasion",children:[Object(n.jsx)("option",{value:"Select",disabled:!0,children:"Select an occasion"}),Object(n.jsx)("option",{value:"Birthday",children:"Birthday"}),Object(n.jsx)("option",{value:"Anniversary",children:"Anniversary"}),Object(n.jsx)("option",{value:"Mother's Day",children:"Mother's Day"}),Object(n.jsx)("option",{value:"Father's Day",children:"Father's day"})]}),Object(n.jsx)("p",{className:"add-occ-error-txt",style:s?{opacity:1}:{opacity:0},children:"Field can't be empty!"})]}),Object(n.jsx)("button",{className:"add-occ-btn-container",onClick:function(){c(a)},children:Object(n.jsx)("p",{className:"add-occ-btn-text",children:"Next Slide"})})]})})};var oe=function(e){var c=e.slide,t=e.nextSlide,a=e.prevSlide,s=e.occName,i=e.handleChange,o=e.error;return Object(n.jsx)("div",{className:2===c?"add-occ-container ":"add-occ-slide-container add-occ-container-none ",children:Object(n.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},className:"add-occ-form",children:[Object(n.jsx)("h1",{className:"add-occ-title",children:"What's the special someone's name?"}),Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{className:"add-occ-txt-input",type:"text",value:s,name:"occName",onChange:i}),Object(n.jsx)("p",{className:"add-occ-error-txt",style:o?{opacity:1}:{opacity:0},children:"Field can't be empty!"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{type:"button",className:"add-occ-btn-container",onClick:a,children:Object(n.jsx)("p",{className:"btn-template-text",children:"Prev slide"})}),Object(n.jsx)("button",{type:"submit",className:"add-occ-btn-container",onClick:function(){return t(s)},children:Object(n.jsx)("p",{className:"add-occ-btn-text",children:"Next Slide"})})]})]})})};var re=function(e){var c=e.occDate,t=e.slide,a=e.handleChange,s=e.checkDate,i=e.prevSlide,o=e.error,r=e.dateError;return Object(n.jsx)("div",{className:3===t?"add-occ-container ":"add-occ-slide-container add-occ-container-none ",children:Object(n.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},className:"add-occ-form",children:[Object(n.jsx)("h1",{className:"add-occ-title",children:"What's the date of the occassion?"}),Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{name:"date",className:"add-occ-txt-input",type:"date",value:c,onChange:a}),Object(n.jsx)("p",{className:"add-occ-error-txt",style:o||r?{opacity:1}:{opacity:0},children:o?"Field can't be empty!":r?"The date must be in the future":"Placeholder text"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{type:"button",className:"add-occ-btn-container",onClick:i,children:Object(n.jsx)("p",{className:"btn-template-text",children:"Prev slide"})}),Object(n.jsx)("button",{type:"submit",className:"add-occ-btn-container",onClick:function(){return s()},children:Object(n.jsx)("p",{className:"add-occ-btn-text",children:"Next Slide"})})]})]})})};var le=function(e){var c=e.slide,t=e.occEmail,a=e.handleChange,s=e.prevSlide,i=e.error,o=e.handleSubmit;return Object(n.jsx)("div",{className:4===c?"add-occ-container ":"add-occ-slide-container add-occ-container-none ",children:Object(n.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},className:"add-occ-form",children:[Object(n.jsx)("h1",{className:"add-occ-title",children:"What's the email of the special someone?"}),Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{className:"add-occ-txt-input",type:"text",value:t,onChange:a,name:"email"}),Object(n.jsx)("p",{className:"add-occ-error-txt",style:i?{opacity:1}:{opacity:0},children:"That's not a valid email!"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{type:"button",className:"add-occ-btn-container",onClick:s,children:Object(n.jsx)("p",{className:"add-occ-btn-text",children:"Prev slide"})}),Object(n.jsx)("button",{type:"submit",className:"add-occ-btn-container",onClick:function(){return o(t)},children:Object(n.jsx)("p",{className:"add-occ-btn-text",children:"Next Slide"})})]})]})})};var je=function(e){var c=e.slide;return Object(n.jsxs)("div",{className:5===c?"add-occ-container":"add-occ-container add-occ-container-none",children:[Object(n.jsx)("h1",{className:"add-occ-title",children:"You've succesfully created a special occasion!"}),Object(n.jsx)("h3",{className:"add-occ-sub-title",children:"Got to the event's page to set up a thoughtful present!"}),Object(n.jsx)(l.b,{to:"/userhome",children:Object(n.jsx)(M,{text:"Go to your occasions page"})})]})},de=function(e){return!(new Date("".concat(e," 00:00:00")).getTime()>=(new Date).getTime())};var ue=function(){var e=Object(s.useState)(1),c=Object(L.a)(e,2),t=c[0],a=c[1],i=Object(s.useState)(!1),o=Object(L.a)(i,2),r=o[0],l=o[1],j=Object(s.useState)(!1),d=Object(L.a)(j,2),b=d[0],h=d[1],O=Object(s.useState)(""),m=Object(L.a)(O,2),x=m[0],f=m[1],p=Object(s.useState)(""),g=Object(L.a)(p,2),v=g[0],y=g[1],S=Object(s.useState)(""),C=Object(L.a)(S,2),D=C[0],I=C[1],k=Object(s.useState)(""),E=Object(L.a)(k,2),F=E[0],w=E[1],T=Object(u.c)((function(e){return e.firebase.auth.uid})),A=Object(N.useFirestore)(),G=function(e){switch(l(!1),e.target.name){case"occasion":f(e.target.value),e.target.value.trim().length<1?l(!0):l(!1);break;case"occName":y(e.target.value),e.target.value.trim().length<1?l(!0):l(!1);break;case"date":I(e.target.value),de(D)?h(!0):h(!1);break;case"email":w(e.target.value),e.target.value.trim().length<1?l(!0):l(!1)}};Object(s.useEffect)((function(){a(1)}),[]);var _=function(e){e.trim().length<1?l(!0):(a((function(e){return e+1})),l(!1))},B=function(){a((function(e){return e-1}))};return Object(n.jsxs)("div",{className:"add-occ-main-container",children:[Object(n.jsx)(ie,{occasion:x,handleChange:G,slide:t,nextSlide:_,error:r}),Object(n.jsx)(oe,{occName:v,handleChange:G,slide:t,prevSlide:B,nextSlide:_,error:r}),Object(n.jsx)(re,{dateError:b,occDate:D,handleChange:G,slide:t,prevSlide:B,error:r,checkDate:function(){D?de(D)?(h(!0),console.log(de(D))):a((function(e){return e+1})):l(!0)}}),Object(n.jsx)(le,{occEmail:F,handleChange:G,slide:t,prevSlide:B,handleSubmit:function(e){!r&&Y(e)?(a((function(e){return e+1})),function(){var e=new Date("".concat(D," 00:00:00"));A.collection("occasions").doc(T).collection("userOccasions").add({occasion:x,occDate:e,occName:v,occEmail:F,occGift:!1}).then(console.log("occasion added to firestore")).catch((function(e){return console.log(e)}))}(),console.log({occasion:x,occDate:D,occEmail:F,occName:v})):l(!0)},error:r}),Object(n.jsx)(je,{slide:t})]})};var be=function(e){var c=e.occasionId;return Object(n.jsxs)("div",{className:"occasion-page-btn-container",children:[Object(n.jsx)("h1",{children:"You have not set a card for this special occasion!"}),Object(n.jsx)("div",{className:"occasion-page-options",children:Object(n.jsx)(l.b,{to:"/giftspage/".concat(c),children:Object(n.jsx)(M,{text:"Choose a card"})})})]})};var he=function(e){var c=e.occDate,t=e.occName,a=e.occasion;return Object(n.jsxs)("div",{className:"occasion-page-title",children:[Object(n.jsx)("h2",{children:c&&"".concat(c)}),Object(n.jsx)("h2",{children:"is a special occasion because it's"}),Object(n.jsx)("h1",{children:"".concat(t,"'s ").concat(a)})]})};var Oe=function(e){var c=e.modalStatus,t=e.yesFunction,a=e.noFunction;return Object(n.jsx)("div",{style:{display:c?"block":"none",opacity:c?"1":"0"},className:"occasion-page-okGift-modal",children:Object(n.jsxs)("div",{className:"occasion-page-okGift-modal-container",children:[Object(n.jsx)("h1",{className:"occasion-page-okGift-modal-title",children:"Are you sure you want to unschedule this card?"}),Object(n.jsxs)("div",{children:[Object(n.jsx)(l.b,{to:"/userhome",children:Object(n.jsx)(M,{onClick:function(){return t()},size:"sm",text:"yes"})}),Object(n.jsx)(M,{onClick:function(){return a(!1)},size:"sm",text:"no"})]})]})})},me=function(e){var c=Object(N.useFirestore)(),t=Object(s.useState)([]),a=Object(L.a)(t,2),n=a[0],i=a[1];return Object(s.useEffect)((function(){e&&c.collection("scheduledOccasions").doc(e).get().then((function(e){if(e.exists){var c=e.data();i(c.scheduledOccasionsInfo)}else console.log("doc doesnt exist")}))}),[c,e]),n};var xe=function(e){var c=e.occasionId,t=e.occDate,a=e.occEmail,i=Object(N.useFirestore)(),o=Object(u.b)(),r=Object(s.useState)([]),j=Object(L.a)(r,2),d=j[0],b=j[1],h=Object(s.useState)({}),O=Object(L.a)(h,2),m=O[0],x=O[1],p=Object(u.c)((function(e){return e.modal.unscheduleBtn})),g=Object(u.c)((function(e){return e.firebase.auth.uid})),v=me(g);Object(s.useEffect)((function(){var e=[],t={};v.forEach((function(a){c===a.currentOccasion.occasionId?t=a:e.push(a)})),b(e),x(t)}),[v,c]);var y=function(e){o(function(e){return function(c,t,a){return a.getFirebase,a.getFirestore,c({type:f,payload:e})}}(e))};return Object(n.jsxs)("div",{className:"occasion-page-btn-container",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{style:{fontSize:"13px",fontFamily:"Lato"},children:"You already scheduled a card for this occasion."}),m.card&&Object(n.jsxs)("div",{className:"occ-page-giftOk-container",children:[Object(n.jsx)("img",{className:"occasion-page-img",src:m.card.url,alt:"card name"}),Object(n.jsxs)("div",{className:"occ-page-giftOk-txt-container",children:[Object(n.jsx)("p",{children:"Your message:"}),Object(n.jsx)("p",{children:m.card.cardMessage})]})]})]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("h3",{className:"occ-page-giftOk-subtitle",children:["This card will be sent on ",t]}),Object(n.jsxs)("h3",{className:"occ-page-giftOk-subtitle",children:["To ",a]}),Object(n.jsxs)("div",{className:"occasion-page-giftOk-btn-container",children:[Object(n.jsx)(l.b,{to:"/scheduledpage",children:Object(n.jsx)(M,{text:"scheduled occasions page"})}),Object(n.jsx)(M,{onClick:function(){return y(!0)},text:"unschedule this card"})]})]}),Object(n.jsx)(Oe,{yesFunction:function(){i.collection("occasions").doc(g).collection("userOccasions").doc(c).update({occGift:!1}).catch((function(e){return console.log(e.message)})),i.collection("scheduledOccasions").doc(g).set({scheduledOccasionsInfo:d}).catch((function(e){return console.log(e.message)})),y(!1)},noFunction:y,modalStatus:p})]})};var fe=function(){return Object(n.jsxs)("div",{className:"occasion-page-btn-container",children:[Object(n.jsx)("h1",{children:"There's already a card in the scheduler for this occasion."}),Object(n.jsx)("div",{className:"occasion-page-options",children:Object(n.jsx)(l.b,{to:"/cartpage",children:Object(n.jsx)(M,{text:"Go to scheduler page"})})})]})},pe=t(23);var ge=function(e){var c=e.occasionId,t=Object(s.useState)(!1),a=Object(L.a)(t,2),i=a[0],o=a[1],r=Object(N.useFirestore)(),l=Object(u.c)((function(e){return e.firebase.auth.uid})),j=me(l),d=A(),b=function(e){o(e)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"occasion-page-delete-btn-container",children:Object(n.jsx)("p",{onClick:function(){return b(!0)},className:"occasion-page-delete-btn",children:"delete occasion"})}),Object(n.jsx)(Oe,{modalStatus:i,yesFunction:function(){var e=j.filter((function(e){return e.currentOccasion.occasionId!==c})),t=d.filter((function(e){return e.currentOccasion.occasionId!==c}));r.collection("cart").doc(l).update({cart:Object(pe.a)(t)}),r.collection("scheduledOccasions").doc(l).set({scheduledOccasionsInfo:e}).catch((function(e){return console.log(e.message)})),r.collection("occasions").doc(l).collection("userOccasions").doc(c).delete().then(b(!1)).catch((function(e){return console.log(e)}))},noFunction:b})]})},ve=function(e){var c=Object(N.useFirestore)(),t=Object(u.c)((function(e){return e.firebase.auth.uid})),a=Object(s.useState)({}),n=Object(L.a)(a,2),i=n[0],o=n[1];return Object(s.useEffect)((function(){t&&c.collection("occasions").doc(t).collection("userOccasions").doc(e).get().then((function(e){e.exists?o(e.data()):console.log("no such document")})).catch((function(e){console.log(e.message)}))}),[c,e,t]),i};var Ne=function(){var e=Object(s.useState)(!1),c=Object(L.a)(e,2),t=c[0],a=c[1],i=Object(j.g)().occasionId,o=ve(i),r=o.occDate,l=o.occName,d=o.occasion,u=o.occGift,b=o.occEmail,h=A();return Object(s.useEffect)((function(){h.forEach((function(e){e.currentOccasion.occasionId===i&&a(!0)}))}),[h,i]),d?Object(n.jsxs)("div",{className:"occasion-page-container",children:[Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(he,{occDate:Z()(r.toDate()).format("LL"),occName:l,occasion:d}),Object(n.jsx)("div",{className:"occasion-page-status",children:u?Object(n.jsx)(xe,{occEmail:b,occasionId:i,occDate:Z()(r.toDate()).format("LL")}):t?Object(n.jsx)(fe,{}):Object(n.jsx)(be,{occasionId:i})})]}),Object(n.jsx)(ge,{occasionId:i})]}):Object(n.jsx)(n.Fragment,{})},ye=function(){var e=Object(s.useState)([]),c=Object(L.a)(e,2),t=c[0],n=c[1],i=Object(N.useFirestore)();return Object(s.useEffect)((function(){i.collection("cards").get().then((function(e){var c=[];e.forEach((function(e){c.push(Object(a.a)(Object(a.a)({},e.data()),{},{cardId:e.id}))})),n(c)})).catch((function(e){return console.log(e)}))}),[i,n]),t};var Se=function(e){var c=e.cardName,t=e.cardAuthor,a=e.url,s=e.cardId;return Object(n.jsx)("div",{className:"single-card-container",children:Object(n.jsxs)(l.b,{to:"/singlecardpage/".concat(s),children:[Object(n.jsx)("img",{alt:"cardName",src:a,className:"single-card-image"}),Object(n.jsxs)("div",{className:"single-card-txt-container",children:[Object(n.jsxs)("h2",{className:"single-card-name",children:[" ",c]}),Object(n.jsxs)("h4",{className:"single-card-author",children:[" by ",t]})]})]})})};function Ce(){var e=Object(u.c)((function(e){return e.occasions.currentOccasion})),c=e.occName,t=e.occasion,a=ye(),i=Object(s.useState)(!1),o=Object(L.a)(i,2),r=o[0],l=o[1];return Object(s.useEffect)((function(){void 0===c&&l(!0)}),[c]),Object(n.jsxs)("div",{className:"gift-page-container ",children:[r&&Object(n.jsx)(j.a,{to:"/userhome"}),Object(n.jsxs)("div",{className:"gift-page-title",children:[Object(n.jsx)("h2",{children:"Choose a gift for"}),Object(n.jsx)("h1",{children:"".concat(c,"'s ").concat(t)})]}),Object(n.jsx)("div",{className:"gift-page-cards-container",children:a.map((function(e){return e.occasion===t?Object(n.jsx)(Se,{cardName:e.cardName,cardAuthor:e.cardAuthor,url:e.url,cardId:e.cardId},e.cardName):null}))})]})}var De=function(e){var c=e.card,t=e.handleChange;return Object(n.jsxs)("div",{className:"single-card-page-mid-container",children:[Object(n.jsx)("img",{className:"single-card-page-img",src:c.url,alt:"".concat(c.cardName)}),Object(n.jsxs)("form",{className:"single-card-page-form",children:[Object(n.jsx)("label",{children:"Write something to send on your card"}),Object(n.jsx)("textarea",{onChange:function(e){return t(e)},className:"single-card-page-input",type:"text",name:"cardText"})]})]})};var Ie=function(){var e=Object(u.c)((function(e){return e.firebase.auth.uid})),c=Object(u.c)((function(e){return e.occasions.currentOccasion})),t=c.occName,a=c.occasion,i=Object(s.useState)(""),o=Object(L.a)(i,2),r=o[0],d=o[1],b=Object(N.useFirestore)(),h=A(),O=Object(j.g)().cardId,m=ye().filter((function(e){return e.cardId===O}))[0],x=Object(s.useState)(!1),f=Object(L.a)(x,2),p=f[0],g=f[1];Object(s.useEffect)((function(){void 0===t&&g(!0)}),[t]);var v=Object(s.useState)(!1),y=Object(L.a)(v,2),S=y[0],C=y[1];return Object(s.useEffect)((function(){h.forEach((function(e){c.occasionId===e.currentOccasion.occasionId&&C(!0)}))}),[h,c]),m?Object(n.jsxs)("div",{className:"single-card-page-container",children:[S&&Object(n.jsx)(j.a,{to:"/userhome"}),p&&Object(n.jsx)(j.a,{to:"/userhome"}),t&&Object(n.jsxs)("div",{className:"gift-page-title",children:[Object(n.jsx)("h2",{children:"Write something for"}),Object(n.jsx)("h1",{children:"".concat(t,"'s ").concat(a)})]}),Object(n.jsx)(De,{handleChange:function(e){d(e.target.value)},card:m}),Object(n.jsx)(l.b,{to:"/cartpage",children:Object(n.jsx)(M,{onClick:function(){return(t={card:m,currentOccasion:c}).card.cardMessage=r,console.log(t),void b.collection("cart").doc(e).set({cart:[].concat(Object(pe.a)(h),[t])});var t},text:"Send to scheduler"})}),Object(n.jsx)("h2",{children:m.cardName}),Object(n.jsxs)("h5",{children:["by ",m.cardAuthor]})]}):Object(n.jsx)("div",{})};var ke=function(e){var c=e.item,t=e.currentCart,a=e.deleteItem;return Object(n.jsxs)("div",{className:"cart-item-container",children:[Object(n.jsx)("img",{className:"cart-item-img",src:c.card.url,alt:"card name"}),Object(n.jsxs)("div",{className:"cart-item-text",children:[Object(n.jsx)("h4",{className:"cart-item-title",children:c.card.cardName}),Object(n.jsxs)("h6",{children:["For ",c.currentOccasion.occName,"'s ",c.currentOccasion.occasion]}),Object(n.jsxs)("h6",{children:["This item will be sent on"," ",Z()(c.currentOccasion.occDate.toDate()).format("LL"),""]}),Object(n.jsx)("h6",{children:"to jnicolon@gmail.com"})]}),Object(n.jsx)("div",{onClick:function(){return a(t.indexOf(c))},className:"cart-item-delete",children:Object(n.jsx)(K.b,{className:"navbar-icon"})})]})},Ee=t(148),Fe=t.n(Ee),we=t(223),Te=function(){var e=Object(we.a)(Fe.a.mark((function e(c,t,n){var s,i,o,r,l,j;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=[],c.forEach((function(e){s.push(e.currentOccasion.occasionId)})),s.forEach((function(e){n.collection("occasions").doc(t).collection("userOccasions").doc(e).update({scheduledOccasionId:e,occGift:!0})})),n.collection("cart").doc(t).set({cart:[]}),e.next=6,n.collection("scheduledOccasions").doc(t).get().then((function(e){return e.exists?e.data():[]}));case 6:return i=e.sent,console.log(i),e.next=10,n.collection("users").doc(t).get().then((function(e){return e.exists?{currentUserInfo:e.data()}:[]}));case 10:o=e.sent,r=i.scheduledOccasionsInfo?i.scheduledOccasionsInfo:[],l=[].concat(Object(pe.a)(r),Object(pe.a)(c)),j=[],l.forEach((function(e){j.push(Object(a.a)(Object(a.a)({},e),o))})),n.collection("scheduledOccasions").doc(t).set({scheduledOccasionsInfo:j}).then(console.log("scheduled occasions set!"));case 16:case"end":return e.stop()}}),e)})));return function(c,t,a){return e.apply(this,arguments)}}();var Le=function(){var e=A(),c=Object(u.c)((function(e){return e.firebase.auth.uid})),t=Object(N.useFirestore)(),a=function(a){var n=Object(pe.a)(e);n.splice(a,1),t.collection("cart").doc(c).update({cart:Object(pe.a)(n)})};return Object(n.jsxs)("div",{className:"cart-page-container",children:[Object(n.jsx)("h1",{className:"cart-page-title",children:"Review your occasions before scheduling them"}),Object(n.jsxs)("div",{className:"cart-page-inner-container",children:[Object(n.jsx)("div",{className:"cart-page-items-main-container",children:e.length>0?e.map((function(c){return Object(n.jsx)(ke,{item:c,currentCart:e,deleteItem:a},e.indexOf(c))})):Object(n.jsx)("h3",{children:"There are no items in the scheduler right now."})}),Object(n.jsxs)("div",{className:"cart-page-btn-container",children:[e.length>0&&Object(n.jsx)(M,{onClick:function(){return Te(e,c,t)},text:1===e.length?"Schedule this gift":"Schedule these gifts"}),Object(n.jsxs)("div",{className:"cart-page-link-container",children:[Object(n.jsx)(l.b,{to:"/",children:Object(n.jsx)("p",{className:"cart-page-link",children:"Return to your occasions list"})}),Object(n.jsx)(l.b,{to:"/scheduledpage",children:Object(n.jsx)("p",{className:"cart-page-link",children:"See all scheduled cards"})})]})]})]})]})};var Ae=function(e){var c=e.item,t=e.scheduledOccasions;return Object(n.jsx)(l.b,{to:"/occasionpage/".concat(c.currentOccasion.occasionId),children:Object(n.jsxs)("div",{className:"scheduled-page-item-container",children:[Object(n.jsx)("img",{className:"scheduled-page-item-img",src:c.card.url,alt:"card name ".concat(c.card.cardName)}),Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{className:"scheduled-page-item-title",children:"For ".concat(c.currentOccasion.occName,"'s ").concat(c.currentOccasion.occasion)}),Object(n.jsx)("p",{className:"scheduled-page-item-txt",children:"You have selected the card ".concat(c.card.cardName," by ").concat(c.card.cardAuthor)}),Object(n.jsx)("p",{className:"scheduled-page-item-txt",children:"to be sent on ".concat(Z()(c.currentOccasion.occDate.toDate()).format("LL")," to ").concat(c.currentOccasion.occEmail)})]})]})},t.indexOf(c))};var Ge=function(){var e=Object(u.c)((function(e){return e.firebase.auth.uid})),c=me(e),t=Object(s.useState)("occDate"),a=Object(L.a)(t,2),i=a[0],o=a[1],r=function(e){"occDate"===e?c.sort((function(e,c){return e.currentOccasion.occDateString-c.currentOccasion.occDateString})):"occName"===e&&c.sort((function(e,c){var t=e.currentOccasion.occName.toUpperCase(),a=c.currentOccasion.occName.toUpperCase();return t<a?-1:t>a?1:0})),o(e)};return Object(n.jsxs)("div",{className:"scheduled-page-container",children:[Object(n.jsx)("h3",{children:"Your scheduled occasions"}),Object(n.jsxs)("div",{className:"scheduled-page-btn-container",children:[Object(n.jsx)("h2",{className:"scheduled-page-btn",children:"OrderBy"}),Object(n.jsx)("h1",{onClick:function(){return r("occName")},className:"occName"===i?"scheduled-page-btn-selected":"scheduled-page-btn",children:"Name"}),Object(n.jsx)("h1",{onClick:function(){return r("occDate")},className:"occDate"===i?"scheduled-page-btn-selected":"scheduled-page-btn",children:"Date"})]}),c&&c.map((function(e){var t=new Date;return new Date(Z()(e.currentOccasion.occDate.toDate()).format()).getTime()>=t.getTime()?Object(n.jsx)(Ae,{item:e,scheduledOccasions:c},c.indexOf(e)):null}))]})},_e=t(224);var Be=function(){var e=Object(s.useState)(!1),c=Object(L.a)(e,2),t=c[0],a=c[1],i=Object(s.useState)(""),o=Object(L.a)(i,2),r=o[0],l=o[1],j=Object(N.useFirebase)();return Object(n.jsxs)("div",{className:"email-container",children:[Object(n.jsx)("h4",{className:"occ-upNext-title",children:"Email Test"}),Object(n.jsx)("h2",{className:"occ-upNext-name",children:"How the email functionality works:"}),Object(n.jsx)("div",{className:"occ-upNext-center",children:Object(n.jsxs)("div",{style:{textAlign:"center"},className:"occ-upNext-left-container",children:[Object(n.jsx)("h6",{className:"email-txt",children:"To send the emails on the approriate dates, I set up a cron job using firebase functions and google scheduler that checks if any of the dates of the scheduled occasions of all users has a card set up with the same date as today."}),Object(n.jsx)("h6",{className:"email-txt",children:"Then I extract the relevant data from the scheduled occasion and I use nodemailer to send it."}),Object(n.jsx)("h6",{className:"email-txt",children:"To test the functionality:"}),Object(n.jsx)("h6",{className:"email-txt",children:"* Create one or more occasions with the date January 1st 2022"}),Object(n.jsx)("h6",{className:"email-txt",children:"* Set it up with an email you can easily check"}),Object(n.jsx)("h6",{className:"email-txt",children:"* Come back to this page and click on the button bellow to manually trigger the function"})]})}),t?Object(n.jsx)("div",{children:Object(n.jsx)("p",{style:{fontSize:"16px"},className:"email-icon",children:"Loading..."})}):Object(n.jsx)("div",{onClick:function(){a(!0),l(""),j.functions().httpsCallable("clickToSendMail")().then((function(e){a(!1),l("Check your email!")})).catch((function(e){a(!1),l("Something went wrong")}))},children:Object(n.jsx)(_e.a,{className:"email-icon"})}),""===r?null:Object(n.jsx)("p",{children:r})]})};var Re=function(){return Object(n.jsxs)("div",{className:"email-container",children:[Object(n.jsx)("h4",{className:"occ-upNext-title",children:"Occasions"}),Object(n.jsx)("br",{}),Object(n.jsx)("h2",{className:"occ-upNext-name",children:"404"}),Object(n.jsx)("h2",{className:"occ-upNext-name",children:"Page not found"}),Object(n.jsx)("div",{className:"occ-upNext-center",children:Object(n.jsx)("div",{style:{textAlign:"center"},className:"occ-upNext-left-container"})}),Object(n.jsx)("br",{}),Object(n.jsx)(l.b,{to:"/",children:Object(n.jsx)("h4",{className:"occ-upNext-title",children:"Back to home page."})})]})};var Pe=function(){var e=Object(u.c)((function(e){return e.modal.profileBtn})),c=Object(N.useFirebase)(),t=Object(u.b)();return Object(s.useEffect)((function(){c.auth().onAuthStateChanged((function(e){t(v(!!e))}))})),Object(n.jsx)("div",{onClick:function(c){e&&t(F())},children:Object(n.jsxs)(l.a,{basename:"/",children:[Object(n.jsx)(P,{}),Object(n.jsx)("div",{className:"main-container",children:Object(n.jsxs)(j.d,{children:[Object(n.jsx)(j.b,{exact:!0,path:"/",component:k}),Object(n.jsx)(j.b,{path:"/login",component:z}),Object(n.jsx)(j.b,{path:"/signup",component:W}),Object(n.jsx)(b,{path:"/userhome",component:se}),Object(n.jsx)(b,{path:"/addoccasion",component:ue}),Object(n.jsx)(b,{path:"/occasionpage/:occasionId",component:Ne}),Object(n.jsx)(b,{path:"/giftspage/:occasionId",component:Ce}),Object(n.jsx)(b,{path:"/singlecardpage/:cardId",component:Ie}),Object(n.jsx)(b,{path:"/cartpage",component:Le}),Object(n.jsx)(b,{path:"/scheduledpage",component:Ge}),Object(n.jsx)(b,{path:"/emailtest",component:Be}),Object(n.jsx)(j.b,{component:Re})]})})]})})},Me=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,423)).then((function(c){var t=c.getCLS,a=c.getFID,n=c.getFCP,s=c.getLCP,i=c.getTTFB;t(e),a(e),n(e),s(e),i(e)}))},Ue=t(36),Ye={currentOccasion:{}},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,c=arguments.length>1?arguments[1]:void 0;switch(c.type){case h:return Object(a.a)(Object(a.a)({},e),{},{currentOccasion:c.payload});default:return e}},We={cart:[],currentCart:[]},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,c=arguments.length>1?arguments[1]:void 0;switch(c.type){case g:return{cart:Object(pe.a)(c.payload)};case O:return{cart:[].concat(Object(pe.a)(e.cart),[c.payload])};case m:return{currentCart:[c.payload]};default:return e}},Ze={profileBtn:!1,unscheduleBtn:!1},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,c=arguments.length>1?arguments[1]:void 0;switch(c.type){case x:return{profileBtn:c.payload};case f:return{unscheduleBtn:c.payload};default:return e}},Ke={loggedIn:""},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,c=arguments.length>1?arguments[1]:void 0;switch(c.type){case p:return{loggedIn:c.payload};default:return e}},Xe=t(69),Qe=Object(Ue.c)({modal:He,occasions:ze,cart:Je,firebase:N.firebaseReducer,firestore:Xe.firestoreReducer,auth:Ve}),$e=t(225),qe=t(70),ec=(t(421),t(418),t(422),{apiKey:"AIzaSyBtugxiRvVEr5MxK3Bbw7JDJ-QxtTt6HC8",authDomain:"thoughtfulv3.firebaseapp.com",projectId:"thoughtfulv3",storageBucket:"thoughtfulv3.appspot.com",messagingSenderId:"900454762968",appId:"1:900454762968:web:64e2dd2b9109750d2a0aad",measurementId:"G-TZKT48EJZX"});qe.a.initializeApp(ec),qe.a.firestore(),qe.a.functions();var cc=qe.a,tc=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ue.d,ac=Object(Ue.e)(Qe,tc(Object(Ue.a)($e.a.withExtraArgument({getFirebase:N.getFirebase,getFirestore:Xe.getFirestore})))),nc={firebase:cc,config:{userProfile:"users",useFirestoreForProfile:!0},dispatch:ac.dispatch,createFirestoreInstance:Xe.createFirestoreInstance};r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(u.a,{store:ac,children:Object(n.jsx)(N.ReactReduxFirebaseProvider,Object(a.a)(Object(a.a)({},nc),{},{children:Object(n.jsx)(Pe,{})}))})}),document.getElementById("root")),Me()}},[[420,1,2]]]);
//# sourceMappingURL=main.36207752.chunk.js.map