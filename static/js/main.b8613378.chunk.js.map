{"version":3,"sources":["components/auth/AuthRoute.js","redux/actions/index.js","redux/actions/authActions.js","components/home/IntroCard1.js","components/home/IntroCard2.js","components/home/IntroCard3.js","pages/Home.js","redux/actions/modalActions.js","components/navbar/LogoutBtn.js","components/navbar/ProfileBtn.js","hooks/useGetCart.js","components/navbar/CartBtn.js","components/navbar/AddBtn.js","components/navbar/LeftNavbar.js","components/navbar/Navbar.js","components/navbar/BtnTemplate.js","components/auth/AuthTitle.js","functions/isEmailValid.js","pages/LogIn.js","pages/SignUp.js","hooks/useUpNext.js","hooks/useCurrentOccasion.js","redux/actions/occasionsActions.js","components/occasions/UpNext.js","components/occasions/OccasionListBtns.js","components/occasions/PresentStatusIcon.js","components/occasions/OccasionListItem.js","components/emailTutorial/EmailSign.js","hooks/useUserOccasions.js","components/occasions/OccasionList.js","pages/UserHome.js","components/occasions/addOccasion/addOccSlide1.js","components/occasions/addOccasion/addOccSlide2.js","components/occasions/addOccasion/addOccSlide3.js","components/occasions/addOccasion/addOccSlide4.js","components/occasions/addOccasion/addOccSlide5.js","functions/isDateInPast.js","pages/AddOccasion.js","components/occasionPage/GiftNotOk.js","components/occasionPage/OccPageTitle.js","components/occasionPage/ConfirmationModal.js","hooks/useGetScheduledOccasions.js","components/occasionPage/GiftOk.js","components/occasionPage/OccInCart.js","components/occasionPage/DeleteBtn.js","pages/OccasionPage.js","hooks/useCardList.js","components/gifts/SingleCard.js","pages/GiftsPage.js","components/gifts/SingleCardPageMiddle.js","pages/SingleCardPage.js","components/cart/CartItem.js","functions/handleClickCartPage.js","pages/CartPage.js","components/scheduledpage/ScheduledItem.js","pages/ScheduledPage.js","pages/EmailTest.js","pages/NotFound.js","App.js","reportWebVitals.js","redux/reducers/occassionsReducer.js","redux/reducers/cartReducer.js","redux/reducers/modalReducer.js","redux/reducers/authReducer.js","redux/reducers/rootReducer.js","config/fbConfig.js","index.js"],"names":["AuthRoute","Component","component","rest","loggedIn","useSelector","state","auth","render","props","to","SET_CURRENT_OCCASION","ADD_ITEM_TO_CART","SET_CURRENT_CART","TOGGLE_PROFILE_MODAL","TOGGLE_UNSCHEDULE_MODAL","TOGGLE_LOGGED_STATUS","SET_CART","toggleAuthStatus","status","dispatch","getState","getFirebase","getFirestore","type","actions","payload","IntroCard1","className","IntroCard2","IntroCard3","Home","toggleProfileModal","LogoutBtn","firebase","useFirebase","onClick","signOut","then","catch","err","console","log","ProfileBtn","useDispatch","display","modal","profileBtn","style","opacity","useGetCart","cart","firestore","data","useState","currentCart","setCurrentCart","userId","uid","useEffect","Object","entries","key","value","CartBtn","useFirestoreConnect","length","AddBtn","LeftNavbar","Navbar","BtnTemplate","text","size","AuthTitle","isEmailValid","test","LogIn","eMail","setEMail","password","setPassword","passwordError","setPasswordError","eMailError","setEMailError","logInError","setLogInError","errorMsg","setErrorMsg","handleChange","e","target","name","onSubmit","preventDefault","trim","signInWithEmailAndPassword","message","onChange","SignUp","firstName","setFirstName","lastName","setLastName","firstNameError","setFirstNameError","lastNameError","setLastNameError","useFirestore","createUserWithEmailAndPassword","resp","collection","doc","user","set","useUpNext","upNext","setUpNext","orderBy","get","tempOcc","forEach","element","push","occasionId","id","checkUpNext","index","compare","tempIndex","today","Date","moment","occDate","toDate","format","getTime","useCurrentOccasion","currentOccasion","setCurrentOccasion","exists","getfirebase","UpNext","occDateString","parse","currentOccasionWithDate","occName","occasion","fromNow","occGift","textAlign","fontSize","OccasionListBtns","setOrderBy","React","listBtnStatus","setListBtnStatus","clickBtn","btn","PresentStatusIcon","presentStatus","iconDisplayStatus","setIconDisplayStatus","setStyle","presentRef","useRef","statusX","offsetTop","current","offsetLeft","window","innerWidth","statusWidth","top","left","position","onMouseEnter","onMouseLeave","ref","OccasionListItem","EmailSign","useUserOccasions","userOccasions","setUserOccasions","snap","OccasionList","map","UserHome","addOccSlide1","nextSlide","error","slide","defaultValue","disabled","addOccSlide2","prevSlide","addOccSlide3","checkDate","dateError","addOccSlide4","occEmail","handleSubmit","addOccSlide5","isDateInPast","inputDate","AddOccasion","setSlide","setError","setDateError","setOccasion","setOccName","setOccDate","setOccEmail","date","add","addOccasion","GiftNotOk","OccPageTitle","ConfirmationModal","modalStatus","yesFunction","noFunction","useGetScheduledOccasions","scheduledOccasions","setScheduledOccasions","temp","scheduledOccasionsInfo","GiftOk","unscheduledOccasions","setUnscheduledOccasions","currentScheduledOccasion","setCurrentScheduledOccasion","unscheduleBtn","tempUnscheduledOccasions","tempSingleOcc","sOcc","toggleModal","toggleUnscheduleModal","fontFamily","card","src","url","alt","cardMessage","class","update","OccInCart","DeleteBtn","setModalStatus","filteredScheduled","filter","filteredCart","item","delete","OccasionPage","occasionInCart","setOccasionInCart","useParams","useCardList","cards","setCards","tempCards","cardId","SingleCard","cardName","cardAuthor","GiftsPage","occasions","redirect","setRedirect","undefined","SingleCardPageMiddle","SingleCardPage","setCardMessage","itemAlreadyInCart","setItemAlreadyInCart","cartItem","CartItem","deleteItem","indexOf","handleClickCartPage","a","giftOccasions","scheduledOccasionId","tempScheduledOccasions","currentUserInfo","oldScheduledOccasions","newScheduledOccasions","finalScheduledOccasions","occ","CartPage","tempCurrentCart","splice","ScheduledItem","ScheduledPage","orderScheduledArray","order","sort","b","nameA","toUpperCase","nameB","EmailTest","href","NotFound","App","profileBtnModalStatus","onAuthStateChanged","basename","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initState","occasionsReducer","action","cartReducer","modalReducer","authReducer","rootReducer","combineReducers","firebaseReducer","firestoreReducer","firebaseConfig","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","withExtraArgument","rrfProps","config","userProfile","useFirestoreForProfile","createFirestoreInstance","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b8613378.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst AuthRoute = ({ component: Component, ...rest }) => {\r\n  const loggedIn = useSelector((state) => state.auth.loggedIn);\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        loggedIn === false ? <Redirect to=\"/\" /> : <Component {...props} />\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default AuthRoute;\r\n","export const CREATE_OCCASION = \"CREATE_OCCASION\";\r\nexport const GET_USER_COLLECTIONS = \"GET_USER_COLLECTIONS\";\r\nexport const SET_CURRENT_OCCASION = \"SET_CURRENT_OCCASION\";\r\nexport const ADD_ITEM_TO_CART = \"ADD_ITEM_TO_CART\";\r\nexport const SET_CURRENT_CART = \"SET_CURRENT_CART\";\r\nexport const TOGGLE_PROFILE_MODAL = \"TOGGLE_PROFILE_MODAL\";\r\nexport const TOGGLE_UNSCHEDULE_MODAL = \"TOGGLE_UNSCHEDULE_MODAL\";\r\nexport const TOGGLE_LOGGED_STATUS = \"TOGGLE_LOGGED_STATUS\";\r\nexport const SET_CART = \"SET_CART\";\r\n","import * as actions from \".\";\r\n\r\nexport const toggleAuthStatus = (status) => {\r\n  return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n    return dispatch({ type: actions.TOGGLE_LOGGED_STATUS, payload: status });\r\n  };\r\n};\r\n","import React from \"react\";\r\n\r\nimport { RiCake2Line } from \"react-icons/ri\";\r\n\r\nfunction IntroCard1() {\r\n  return (\r\n    <div className=\"home-intro-card-container\">\r\n      <RiCake2Line className=\"home-intro-icon\" />\r\n      <h2 className=\"home-intro-title\">Create an Occasion</h2>\r\n      <p className=\"home-intro-text\">\r\n        Wheather it's a birthday, and anniversary or graduation, no special\r\n        occasion should be forgotten.\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default IntroCard1;\r\n","import React from \"react\";\r\n\r\nimport { AiOutlineGift } from \"react-icons/ai\";\r\n\r\nfunction IntroCard2() {\r\n  return (\r\n    <div className=\"home-intro-card-container\">\r\n      <AiOutlineGift className=\"home-intro-icon\" />\r\n      <h2 className=\"home-intro-title\">Choose a gift</h2>\r\n      <p className=\"home-intro-text\">\r\n        No matter what you want to say, you'll find the right gift for the right\r\n        person.\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default IntroCard2;\r\n","import React from \"react\";\r\n\r\nimport { RiCalendarCheckLine } from \"react-icons/ri\";\r\n\r\nfunction IntroCard3() {\r\n  return (\r\n    <div className=\"home-intro-card-container\">\r\n      <RiCalendarCheckLine className=\"home-intro-icon\" />\r\n      <h2 className=\"home-intro-title\">Schedule it!</h2>\r\n      <p className=\"home-intro-text\">\r\n        Never forget your occasions by scheduling your gift in advance and\r\n        recieve and email when it's sent.\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default IntroCard3;\r\n","import React from \"react\";\r\n\r\n//Router\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\n//Components\r\nimport IntroCard1 from \"../components/home/IntroCard1\";\r\nimport IntroCard2 from \"../components/home/IntroCard2\";\r\nimport IntroCard3 from \"../components/home/IntroCard3\";\r\n\r\n//State\r\nimport { useSelector } from \"react-redux\";\r\n\r\nfunction Home() {\r\n  const loggedIn = useSelector((state) => state.auth.loggedIn);\r\n\r\n  return (\r\n    <div className=\"home-container\">\r\n      {loggedIn && <Redirect to=\"/userhome\" />}\r\n      <h1 className=\"home-title\">Occasions</h1>\r\n      <div className=\"home-line\"></div>\r\n      <div className=\"home-intro-container\">\r\n        <IntroCard1 />\r\n        <IntroCard2 />\r\n        <IntroCard3 />\r\n      </div>\r\n      <div className=\"home-line\"></div>\r\n      <div className=\"home-log-container\">\r\n        <Link to=\"/login\">\r\n          <h2 className=\"home-log-btn\">Log In</h2>\r\n        </Link>\r\n        <Link to=\"/signup\">\r\n          <h2 className=\"home-log-btn\">Sign Up</h2>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import * as actions from \".\";\r\n\r\nexport const toggleProfileModal = (status) => {\r\n  return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n    return dispatch({ type: actions.TOGGLE_PROFILE_MODAL, payload: status });\r\n  };\r\n};\r\n\r\nexport const toggleUnscheduleModal = (status) => {\r\n  return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n    return dispatch({ type: actions.TOGGLE_UNSCHEDULE_MODAL, payload: status });\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport { useFirebase } from \"react-redux-firebase\";\r\n\r\nfunction LogoutBtn() {\r\n  const firebase = useFirebase();\r\n\r\n  const handleClick = () => {\r\n    firebase\r\n      .auth()\r\n      .signOut()\r\n      .then(() => {})\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <h3 className=\"profile-btn-popup-txt\" onClick={handleClick}>\r\n      Log out\r\n    </h3>\r\n  );\r\n}\r\n\r\nexport default LogoutBtn;\r\n","import React from \"react\";\r\nimport { FiUser } from \"react-icons/fi\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { toggleProfileModal } from \"../../redux/actions/modalActions\";\r\nimport LogoutBtn from \"./LogoutBtn\";\r\n\r\nfunction ProfileBtn() {\r\n  const dispatch = useDispatch();\r\n  const display = useSelector((state) => state.modal.profileBtn);\r\n\r\n  return (\r\n    <div className=\"profile-btn-container\">\r\n      <div\r\n        className=\"icon profile-btn account-icon\"\r\n        onClick={() => {\r\n          dispatch(toggleProfileModal(true));\r\n        }}\r\n      >\r\n        <FiUser className=\"navbar-icon\" />\r\n      </div>\r\n\r\n      <div\r\n        style={{\r\n          display: display ? \"block\" : \"none\",\r\n          opacity: display ? \"1\" : \"0\",\r\n        }}\r\n        className=\"profile-btn-popup\"\r\n      >\r\n        <Link to=\"/userhome\">\r\n          <h3 className=\"profile-btn-popup-txt\">Occasion List</h3>\r\n        </Link>\r\n        <Link to=\"/scheduledpage\">\r\n          <h3 className=\"profile-btn-popup-txt\">Scheduled Occasions</h3>\r\n        </Link>\r\n        <Link to=\"/cartpage\">\r\n          <h3 className=\"profile-btn-popup-txt\">Scheduler</h3>\r\n        </Link>\r\n        <LogoutBtn />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProfileBtn;\r\n","import { useState, useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst useGetCart = () => {\r\n  const cart = useSelector((state) => {\r\n    return state.firestore.data.cart;\r\n  });\r\n  const [currentCart, setCurrentCart] = useState([]);\r\n  const userId = useSelector((state) => state.firebase.auth.uid);\r\n\r\n  useEffect(() => {\r\n    if (cart) {\r\n      for (let [key, value] of Object.entries(cart)) {\r\n        if (key === userId) {\r\n          setCurrentCart(value.cart);\r\n        }\r\n      }\r\n    }\r\n  }, [currentCart, cart, userId]);\r\n\r\n  return currentCart;\r\n};\r\n\r\nexport default useGetCart;\r\n","import React from \"react\";\r\n//Component\r\nimport { RiCalendarCheckLine } from \"react-icons/ri\";\r\n//Router\r\nimport { Link } from \"react-router-dom\";\r\n//Hooks\r\nimport useGetCart from \"../../hooks/useGetCart\";\r\n//Firestore\r\nimport { useFirestoreConnect } from \"react-redux-firebase\";\r\n\r\nfunction CartBtn() {\r\n  useFirestoreConnect([\"cart\"]);\r\n  const cart = useGetCart();\r\n\r\n  return (\r\n    <Link to=\"/cartpage\">\r\n      <span className=\"nav-cart-icon-container\">\r\n        <RiCalendarCheckLine className=\"navbar-icon\" />\r\n        {cart.length && cart.length === 0 ? null : (\r\n          <div className=\"nav-cart-number\">\r\n            <p>{cart.length}</p>\r\n          </div>\r\n        )}\r\n      </span>\r\n    </Link>\r\n  );\r\n}\r\n\r\nexport default CartBtn;\r\n","import React from \"react\";\r\n\r\nimport { MdAddCircleOutline } from \"react-icons/md\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction AddBtn() {\r\n  return (\r\n    <Link to=\"/addoccasion\">\r\n      <MdAddCircleOutline className=\"navbar-icon\" />\r\n    </Link>\r\n  );\r\n}\r\n\r\nexport default AddBtn;\r\n","//React\r\nimport React from \"react\";\r\n// import { useState } from \"react\";\r\n\r\n//State\r\n// import { useSelector } from \"react-redux\";\r\n\r\n//Components\r\nimport ProfileBtn from \"./ProfileBtn\";\r\nimport CartBtn from \"./CartBtn\";\r\nimport AddBtn from \"./AddBtn\";\r\n\r\nfunction LeftNavbar() {\r\n  return (\r\n    <div className=\"left-navbar-container\">\r\n      <AddBtn />\r\n      <CartBtn />\r\n      <ProfileBtn />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LeftNavbar;\r\n","import React from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport LeftNavbar from \"./LeftNavbar\";\r\n\r\nimport { useSelector } from \"react-redux\";\r\n\r\nfunction Navbar() {\r\n  const loggedIn = useSelector((state) => state.auth.loggedIn);\r\n\r\n  return (\r\n    <div\r\n      className=\"navbar\"\r\n      style={!loggedIn ? { display: \"none\" } : { display: \"block\" }}\r\n    >\r\n      <div className=\"navbar-container\">\r\n        <Link to=\"/\">\r\n          <h3 className=\"logo\">Occasions</h3>\r\n        </Link>\r\n        <LeftNavbar />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","import React from \"react\";\r\n\r\nfunction BtnTemplate({ text, onClick, size }) {\r\n  return (\r\n    <button\r\n      onClick={onClick}\r\n      className={\r\n        size === \"sm\" ? \"btn-template-container-sm\" : \"btn-template-container\"\r\n      }\r\n    >\r\n      <p\r\n        className={size === \"sm\" ? \"btn-template-text-sm\" : \"btn-template-text\"}\r\n      >\r\n        {text}\r\n      </p>\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default BtnTemplate;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction AuthTitle() {\r\n  return (\r\n    <Link to=\"/\">\r\n      {\" \"}\r\n      <h1 className=\"auth-occasions-title\">Occasions</h1>{\" \"}\r\n    </Link>\r\n  );\r\n}\r\n\r\nexport default AuthTitle;\r\n","const isEmailValid = (value) => {\r\n  const reg = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;\r\n  return reg.test(value);\r\n};\r\n\r\nexport default isEmailValid;\r\n","import React from \"react\";\r\n\r\n//State\r\nimport { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\n//Components\r\nimport { FiUser } from \"react-icons/fi\";\r\nimport BtnTemplate from \"../components/navbar/BtnTemplate.js\";\r\nimport AuthTitle from \"../components/auth/AuthTitle\";\r\n\r\n//Functions\r\nimport isEmailValid from \"../functions/isEmailValid\";\r\n\r\n//Firebase\r\nimport { useFirebase } from \"react-redux-firebase\";\r\n\r\n//Router\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\nfunction LogIn() {\r\n  const [eMail, setEMail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [passwordError, setPasswordError] = useState(\"\");\r\n  const [eMailError, setEMailError] = useState(\"\");\r\n  const [logInError, setLogInError] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState(\"\");\r\n  const firebase = useFirebase();\r\n\r\n  const loggedIn = useSelector((state) => state.auth.loggedIn);\r\n\r\n  const handleChange = (e) => {\r\n    setLogInError(false);\r\n    setPasswordError(false);\r\n    setLogInError(false);\r\n\r\n    switch (e.target.name) {\r\n      case \"email\":\r\n        setEMail(e.target.value);\r\n        break;\r\n      case \"password\":\r\n        setPassword(e.target.value);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const submitForm = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (eMail.trim().length < 1 || isEmailValid(eMail) === false) {\r\n      setEMailError(true);\r\n    } else {\r\n      setEMailError(false);\r\n    }\r\n\r\n    if (password.trim().length < 6) {\r\n      setPasswordError(true);\r\n    } else {\r\n      setPasswordError(false);\r\n    }\r\n\r\n    if (!passwordError || !eMailError) {\r\n      firebase\r\n        .auth()\r\n        .signInWithEmailAndPassword(eMail, password)\r\n        .then(() => {\r\n          setLogInError(false);\r\n        })\r\n        .catch((err) => {\r\n          setLogInError(true);\r\n          setErrorMsg(err.message);\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <AuthTitle />\r\n      <div className=\"auth-container\">\r\n        {loggedIn && <Redirect to=\"/userhome\" />}\r\n        <div className=\"auth-input-container\">\r\n          <div className=\"auth-title-container\">\r\n            <FiUser className=\"auth-icon\" />\r\n            <h1 className=\"auth-title\">Log In</h1>\r\n          </div>\r\n          <form onSubmit={submitForm} className=\"auth-form\">\r\n            <div className=\"auth-input-inner-container\">\r\n              <label>E-mail</label>\r\n              <input\r\n                onChange={handleChange}\r\n                className=\"auth-text-input\"\r\n                name=\"email\"\r\n                type=\"email\"\r\n                value={eMail}\r\n              ></input>\r\n              <p\r\n                style={eMailError ? { opacity: \"1\" } : { opacity: \"0\" }}\r\n                className=\"auth-error-txt\"\r\n              >\r\n                You must enter a valid e-mail\r\n              </p>\r\n            </div>\r\n            <div className=\"auth-input-inner-container\">\r\n              <label>Password</label>\r\n              <input\r\n                onChange={handleChange}\r\n                className=\"auth-text-input\"\r\n                name=\"password\"\r\n                type=\"password\"\r\n                value={password}\r\n              ></input>\r\n              <p\r\n                style={passwordError ? { opacity: \"1\" } : { opacity: \"0\" }}\r\n                className=\"auth-error-txt\"\r\n              >\r\n                Your password must be at least six characters long\r\n              </p>\r\n            </div>\r\n            <p\r\n              style={logInError ? { opacity: \"1\" } : { opacity: \"0\" }}\r\n              className=\"auth-error-txt\"\r\n            >\r\n              {`${errorMsg}`}\r\n            </p>\r\n            <div className=\"auth-input-inner-container auth-bot\">\r\n              <BtnTemplate text=\"Log In\" />\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <Link to=\"/signup\">\r\n          <p className=\"auth-bot-text\">Or sign up</p>\r\n        </Link>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default LogIn;\r\n","import React from \"react\";\r\n\r\n//State\r\nimport { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\n//Components\r\nimport BtnTemplate from \"../components/navbar/BtnTemplate.js\";\r\nimport { FiUser } from \"react-icons/fi\";\r\nimport AuthTitle from \"../components/auth/AuthTitle\";\r\n\r\n//Functions\r\nimport isEmailValid from \"../functions/isEmailValid\";\r\n\r\n//Firebase\r\nimport { useFirestore, useFirebase } from \"react-redux-firebase\";\r\n\r\n//Router\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\nfunction SignUp() {\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [eMail, setEMail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const [firstNameError, setFirstNameError] = useState(\"\");\r\n  const [lastNameError, setLastNameError] = useState(\"\");\r\n  const [eMailError, setEMailError] = useState(\"\");\r\n  const [passwordError, setPasswordError] = useState(\"\");\r\n\r\n  const loggedIn = useSelector((state) => state.auth.loggedIn);\r\n\r\n  const firebase = useFirebase();\r\n  const firestore = useFirestore();\r\n\r\n  const handleChange = (e) => {\r\n    switch (e.target.name) {\r\n      case \"firstName\":\r\n        setFirstName(e.target.value);\r\n        setFirstNameError(false);\r\n        break;\r\n      case \"lastName\":\r\n        setLastName(e.target.value);\r\n        setLastNameError(false);\r\n        break;\r\n      case \"password\":\r\n        setPassword(e.target.value);\r\n        setPasswordError(false);\r\n\r\n        break;\r\n      case \"email\":\r\n        setEMailError(false);\r\n        setEMail(e.target.value);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const submitForm = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (firstName.trim().length < 3) {\r\n      setFirstNameError(true);\r\n    } else {\r\n      setFirstNameError(false);\r\n    }\r\n    if (lastName.trim().length < 3) {\r\n      setLastNameError(true);\r\n    } else {\r\n      setLastNameError(false);\r\n    }\r\n\r\n    if (password.trim().length < 6) {\r\n      setPasswordError(true);\r\n    } else {\r\n      setPasswordError(false);\r\n    }\r\n\r\n    if (eMail.trim().length < 1 || isEmailValid(eMail) === false) {\r\n      setEMailError(true);\r\n    } else {\r\n      setEMailError(false);\r\n    }\r\n\r\n    if (\r\n      firstNameError === false &&\r\n      lastNameError === false &&\r\n      eMailError === false &&\r\n      passwordError === false\r\n    ) {\r\n      firebase\r\n        .auth()\r\n        .createUserWithEmailAndPassword(eMail, password)\r\n        .then((resp) => {\r\n          return firestore.collection(\"users\").doc(resp.user.uid).set({\r\n            firstName,\r\n            lastName,\r\n            eMail,\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <AuthTitle />\r\n      <div className=\"auth-container\">\r\n        {loggedIn && <Redirect to=\"/userhome\" />}\r\n        <div className=\"auth-input-container\">\r\n          <div className=\"auth-title-container\">\r\n            <FiUser className=\"auth-icon\" />\r\n            <h1 className=\"auth-title\">Sign Up</h1>\r\n          </div>\r\n          <form onSubmit={submitForm} className=\"auth-form\">\r\n            <div className=\"auth-input-inner-container\">\r\n              <label>First Name</label>\r\n              <input\r\n                onChange={handleChange}\r\n                className=\"auth-text-input\"\r\n                type=\"text\"\r\n                name=\"firstName\"\r\n                value={firstName}\r\n              ></input>\r\n              <p\r\n                style={firstNameError ? { opacity: \"1\" } : { opacity: \"0\" }}\r\n                className=\"auth-error-txt\"\r\n              >\r\n                Name must be at least 3 letters\r\n              </p>\r\n            </div>\r\n            <div className=\"auth-input-inner-container\">\r\n              <label>Last Name</label>\r\n              <input\r\n                onChange={handleChange}\r\n                className=\"auth-text-input\"\r\n                name=\"lastName\"\r\n                type=\"text\"\r\n                value={lastName}\r\n              ></input>\r\n              <p\r\n                style={lastNameError ? { opacity: \"1\" } : { opacity: \"0\" }}\r\n                className=\"auth-error-txt\"\r\n              >\r\n                Last name must be at least 3 letters\r\n              </p>\r\n            </div>\r\n            <div className=\"auth-input-inner-container\">\r\n              <label>E-mail</label>\r\n              <input\r\n                onChange={handleChange}\r\n                className=\"auth-text-input\"\r\n                name=\"email\"\r\n                type=\"email\"\r\n                value={eMail}\r\n              ></input>\r\n              <p\r\n                style={eMailError ? { opacity: \"1\" } : { opacity: \"0\" }}\r\n                className=\"auth-error-txt\"\r\n              >\r\n                You must enter a valid e-mail\r\n              </p>\r\n            </div>\r\n            <div className=\"auth-input-inner-container\">\r\n              <label>Password</label>\r\n              <input\r\n                onChange={handleChange}\r\n                className=\"auth-text-input\"\r\n                name=\"password\"\r\n                type=\"password\"\r\n                value={password}\r\n              ></input>\r\n              <p\r\n                style={passwordError ? { opacity: \"1\" } : { opacity: \"0\" }}\r\n                className=\"auth-error-txt\"\r\n              >\r\n                Your password must be at least six characters long\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"auth-input-inner-container auth-bot\">\r\n              <BtnTemplate text=\"Sign Up\" />\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <Link to=\"/login\">\r\n          <p className=\"auth-bot-text\">Or Log In</p>\r\n        </Link>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SignUp;\r\n","import { useState, useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useFirestore } from \"react-redux-firebase\";\r\nimport moment from \"moment\";\r\n\r\nconst useUpNext = () => {\r\n  const firestore = useFirestore();\r\n  const [upNext, setUpNext] = useState({});\r\n  const userId = useSelector((state) => state.firebase.auth.uid);\r\n\r\n  useEffect(() => {\r\n    firestore\r\n      .collection(\"occasions\")\r\n      .doc(userId)\r\n      .collection(\"userOccasions\")\r\n      .orderBy(\"occDate\", \"asc\")\r\n      .get()\r\n      .then((doc) => {\r\n        const tempOcc = [];\r\n        doc.forEach((element) => {\r\n          tempOcc.push({ ...element.data(), occasionId: element.id });\r\n        });\r\n\r\n        //Rercursive function to compare the dates of\r\n        //the occasions with today's date.\r\n        const checkUpNext = (index) => {\r\n          let tempIndex = index;\r\n          let today = new Date();\r\n          let compare;\r\n\r\n          if (tempOcc[index]) {\r\n            compare = new Date(\r\n              moment(tempOcc[index].occDate.toDate()).format()\r\n            );\r\n            if (today.getTime() <= compare.getTime()) {\r\n              setUpNext(tempOcc[index]);\r\n              return;\r\n            } else {\r\n              tempIndex++;\r\n              return checkUpNext(tempIndex);\r\n            }\r\n          }\r\n        };\r\n        checkUpNext(0);\r\n      });\r\n  }, [userId, firestore]);\r\n\r\n  return upNext;\r\n};\r\n\r\nexport default useUpNext;\r\n","import { useState, useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useFirestore } from \"react-redux-firebase\";\r\n\r\nconst useCurrentOccasion = (occasionId) => {\r\n  const firestore = useFirestore();\r\n  const userId = useSelector((state) => state.firebase.auth.uid);\r\n  const [currentOccasion, setCurrentOccasion] = useState({});\r\n\r\n  useEffect(() => {\r\n    if (userId) {\r\n      firestore\r\n        .collection(\"occasions\")\r\n        .doc(userId)\r\n        .collection(\"userOccasions\")\r\n        .doc(occasionId)\r\n        .get()\r\n        .then((doc) => {\r\n          if (doc.exists) {\r\n            setCurrentOccasion(doc.data());\r\n          } else {\r\n            console.log(\"no such document\");\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err.message);\r\n        });\r\n    }\r\n  }, [firestore, occasionId, userId]);\r\n\r\n  return currentOccasion;\r\n};\r\n\r\nexport default useCurrentOccasion;\r\n","import * as actions from \".\";\r\n\r\nexport const setCurrentOccasion = (currentOccasion) => {\r\n  return (dispatch, getState, { getfirebase, getFirestore }) => {\r\n    dispatch({ type: actions.SET_CURRENT_OCCASION, payload: currentOccasion });\r\n  };\r\n};\r\n","import React from \"react\";\r\n//Custom Hook\r\nimport useUpNext from \"../../hooks/useUpNext\";\r\nimport useCurrentOccasion from \"../../hooks/useCurrentOccasion\";\r\n//Icon\r\nimport { BsCalendar } from \"react-icons/bs\";\r\nimport { MdAddCircleOutline } from \"react-icons/md\";\r\n//Moment\r\nimport moment from \"moment\";\r\n// //Router\r\nimport { Link } from \"react-router-dom\";\r\n//Redux\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setCurrentOccasion } from \"../../redux/actions/occasionsActions\";\r\n\r\nfunction UpNext() {\r\n  const upNext = useUpNext();\r\n  console.log(upNext);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  //The occasion passed here is the one we are mapping.\r\n  //This way we can track what occasion we are clicking on the list.\r\n  function onClickOccasion(occasion) {\r\n    dispatch(setCurrentOccasion(occasion));\r\n  }\r\n\r\n  //We add the date to currentOccasion for cloud functions functionality.\r\n  const occDateString = Date.parse(upNext);\r\n  const currentOccasionWithDate = { ...upNext, occDateString };\r\n\r\n  return (\r\n    <div className=\"occ-upNext-container\">\r\n      {upNext.occName ? (\r\n        <>\r\n          <h4 className=\"occ-upNext-title\">Up Next</h4>\r\n          <h2 className=\"occ-upNext-name\">\r\n            {`${upNext.occName}'s ${upNext.occasion}`}\r\n          </h2>\r\n          <div className=\"occ-upNext-center\">\r\n            <BsCalendar className=\"occ-upNext-icon\" />\r\n            <div className=\"occ-upNext-left-container\">\r\n              <h6>On {moment(upNext.occDate.toDate()).format(\"LL\")}</h6>\r\n              <p>\r\n                That's {moment(upNext.occDate.toDate()).fromNow()} from now!\r\n              </p>\r\n            </div>\r\n          </div>\r\n          {!upNext.occGift && (\r\n            <Link to={`/occasionpage/${upNext.occasionId}`}>\r\n              <h4\r\n                onClick={() => onClickOccasion(currentOccasionWithDate)}\r\n                className=\"occ-upNext-gift-txt\"\r\n              >\r\n                Set up a gift for this occasion.\r\n              </h4>\r\n            </Link>\r\n          )}\r\n        </>\r\n      ) : (\r\n        <>\r\n          <h4 className=\"occ-upNext-title\">Welcome</h4>\r\n          <h2 className=\"occ-upNext-name\">Welcome to Occasions</h2>\r\n          <div className=\"occ-upNext-center\">\r\n            <div\r\n              style={{ textAlign: \"center\" }}\r\n              className=\"occ-upNext-left-container\"\r\n            >\r\n              <h6>Create your first occasion by clicking on the plus icon</h6>\r\n            </div>\r\n          </div>\r\n          <Link to=\"/addoccasion\">\r\n            <MdAddCircleOutline\r\n              style={{ fontSize: \"40px\" }}\r\n              className=\"occ-upNext-icon\"\r\n            />\r\n          </Link>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UpNext;\r\n","import React from \"react\";\r\n\r\nfunction OccasionListBtns({ setOrderBy }) {\r\n  const [listBtnStatus, setListBtnStatus] = React.useState(\"occDate\");\r\n\r\n  const clickBtn = (btn) => {\r\n    setListBtnStatus(btn);\r\n    setOrderBy(btn);\r\n  };\r\n  return (\r\n    <div className=\"occ-list-selectors-container\">\r\n      <div\r\n        onClick={() => {\r\n          clickBtn(\"occName\");\r\n        }}\r\n        className={\r\n          listBtnStatus === \"occName\"\r\n            ? \"occ-list-btn-container occ-list-btn-container-active\"\r\n            : \"occ-list-btn-container\"\r\n        }\r\n      >\r\n        <h6>Occasion Name</h6>\r\n      </div>\r\n      <div\r\n        onClick={() => {\r\n          clickBtn(\"occasion\");\r\n        }}\r\n        className={\r\n          listBtnStatus === \"occasion\"\r\n            ? \"occ-list-btn-container occ-list-btn-container-active\"\r\n            : \"occ-list-btn-container\"\r\n        }\r\n      >\r\n        <h6>Occasion</h6>\r\n      </div>\r\n      <div\r\n        onClick={() => {\r\n          clickBtn(\"occDate\");\r\n        }}\r\n        className={\r\n          listBtnStatus === \"occDate\"\r\n            ? \"occ-list-btn-container occ-list-btn-container-active\"\r\n            : \"occ-list-btn-container\"\r\n        }\r\n      >\r\n        <h6>Occasion Date</h6>\r\n      </div>\r\n      <div\r\n        onClick={() => {\r\n          clickBtn(\"occGift\");\r\n        }}\r\n        className={\r\n          listBtnStatus === \"occGift\"\r\n            ? \"occ-list-btn-container occ-list-btn-container-active\"\r\n            : \"occ-list-btn-container\"\r\n        }\r\n      >\r\n        <h6>Occasion Status</h6>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default OccasionListBtns;\r\n","import React from \"react\";\r\nimport { useState, useRef } from \"react\";\r\n\r\nimport { TiGift } from \"react-icons/ti\";\r\nimport { ImCross } from \"react-icons/im\";\r\n\r\nfunction PresentStatusIcon({ presentStatus }) {\r\n  const [iconDisplayStatus, setIconDisplayStatus] = useState(false);\r\n  const [style, setStyle] = useState({});\r\n  const presentRef = useRef(null);\r\n\r\n  const display = () => {\r\n    const offsetTop = presentRef.current.offsetTop;\r\n    const offsetLeft = presentRef.current.offsetLeft;\r\n    const statusWidth = 180;\r\n    let statusX;\r\n\r\n    if (window.innerWidth - offsetLeft < statusWidth) {\r\n      statusX = statusWidth - 10;\r\n    } else {\r\n      statusX = -30;\r\n    }\r\n\r\n    setStyle({\r\n      top: `${offsetTop + 35}px`,\r\n      left: `${offsetLeft - statusX}px`,\r\n    });\r\n\r\n    setIconDisplayStatus((iconDisplayStatus) => !iconDisplayStatus);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{ position: \"relative\" }}\r\n      onMouseEnter={() => {\r\n        display();\r\n      }}\r\n      onMouseLeave={() => {\r\n        display();\r\n      }}\r\n      ref={presentRef}\r\n    >\r\n      <div className=\"present-icon-container\">\r\n        <TiGift className=\"occ-list-present-icon\" />\r\n        {!presentStatus && <ImCross className=\"present-cancel-icon\" />}\r\n        <div\r\n          style={style}\r\n          className={\r\n            iconDisplayStatus\r\n              ? \"present-icon-status present-icon-status-on\"\r\n              : \"present-icon-status\"\r\n          }\r\n        >\r\n          {presentStatus\r\n            ? \"Your gift is already set up!\"\r\n            : \"You have not set up a gift yet!\"}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PresentStatusIcon;\r\n","import React from \"react\";\r\n//Router\r\nimport { Link } from \"react-router-dom\";\r\n//Icon\r\nimport PresentStatusIcon from \"./PresentStatusIcon\";\r\n//Sate\r\nimport { useDispatch } from \"react-redux\";\r\n//Actions\r\nimport { setCurrentOccasion } from \"../../redux/actions/occasionsActions\";\r\n\r\nfunction OccasionListItem({ occDate, currentOccasion }) {\r\n  const dispatch = useDispatch();\r\n\r\n  //The occasion passed here is the one we are mapping.\r\n  //This way we can track what occasion we are clicking on the list.\r\n  function onClickOccasion(occasion) {\r\n    dispatch(setCurrentOccasion(occasion));\r\n  }\r\n\r\n  //We add the date to currentOccasion for cloud functions functionality.\r\n  const occDateString = Date.parse(occDate);\r\n  const currentOccasionWithDate = { ...currentOccasion, occDateString };\r\n\r\n  return (\r\n    <Link to={`/occasionpage/${currentOccasion.occasionId}`}>\r\n      <div\r\n        className=\"occ-list-item-container\"\r\n        onClick={() => onClickOccasion(currentOccasionWithDate)}\r\n      >\r\n        <h6 className=\"occ-list-single-item-container\">{`${currentOccasion.occName}`}</h6>\r\n        <h6 className=\"occ-list-single-item-container\">{`${currentOccasion.occasion}`}</h6>\r\n        <h6 className=\"occ-list-single-item-container\">{`${occDate}`}</h6>\r\n        <h6 className=\"occ-list-single-item-container\">\r\n          <PresentStatusIcon presentStatus={currentOccasion.occGift} />\r\n        </h6>\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\n\r\nexport default OccasionListItem;\r\n","import React from \"react\";\r\nimport BtnTemplate from \"../navbar/BtnTemplate\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction EmailSign() {\r\n  return (\r\n    <div className=\"email-sign-container\">\r\n      <h3 className=\"email-sign-title\">\r\n        To test the email functionality click\r\n      </h3>\r\n      <Link to=\"/emailtest\">\r\n        <BtnTemplate size=\"sm\" text=\"here\" />\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EmailSign;\r\n","import { useState, useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useFirestore } from \"react-redux-firebase\";\r\n\r\nconst useUserOccasions = (orderBy) => {\r\n  const firestore = useFirestore();\r\n  const [userOccasions, setUserOccasions] = useState([]);\r\n  const userId = useSelector((state) => state.firebase.auth.uid);\r\n\r\n  useEffect(() => {\r\n    if (userId) {\r\n      firestore\r\n        .collection(\"occasions\")\r\n        .doc(userId)\r\n        .collection(\"userOccasions\")\r\n        .orderBy(orderBy, \"asc\")\r\n        .get()\r\n        .then((snap) => {\r\n          const tempOcc = [];\r\n          snap.forEach((element) => {\r\n            tempOcc.push({ ...element.data(), occasionId: element.id });\r\n          });\r\n          setUserOccasions(tempOcc);\r\n        });\r\n    }\r\n  }, [userId, firestore, orderBy]);\r\n\r\n  return userOccasions;\r\n};\r\n\r\nexport default useUserOccasions;\r\n","import React, { useState, useEffect } from \"react\";\r\n//Components\r\nimport OccasionListBtns from \"./OccasionListBtns\";\r\nimport OccasionListItem from \"./OccasionListItem\";\r\nimport EmailSign from \"../emailTutorial/EmailSign\";\r\n//State\r\nimport { useDispatch } from \"react-redux\";\r\n//Moment\r\nimport moment from \"moment\";\r\n//Hooks\r\nimport useUserOccasions from \"../../hooks/useUserOccasions\";\r\n//Actions\r\nimport { setCurrentOccasion } from \"../../redux/actions/occasionsActions\";\r\n\r\nfunction OccasionList() {\r\n  const dispatch = useDispatch();\r\n  const [orderBy, setOrderBy] = useState(\"occDate\");\r\n  const userOccasions = useUserOccasions(orderBy);\r\n\r\n  useEffect(() => {\r\n    dispatch(setCurrentOccasion(\"\"));\r\n  });\r\n\r\n  if (userOccasions.length >= 1) {\r\n    return (\r\n      <div className=\"occ-list-container\">\r\n        <div className=\"occ-list-title-container\">\r\n          <h2>Your upcoming occasions</h2>\r\n          <OccasionListBtns setOrderBy={setOrderBy} />\r\n\r\n          {userOccasions.map((occasion) => {\r\n            let today = new Date();\r\n            let compare = new Date(moment(occasion.occDate.toDate()).format());\r\n\r\n            if (compare.getTime() >= today.getTime()) {\r\n              return (\r\n                <OccasionListItem\r\n                  to={`/occasionpage/${occasion.occasionId}`}\r\n                  key={occasion.occasionId}\r\n                  occDate={moment(occasion.occDate.toDate()).format(\"ll\")}\r\n                  currentOccasion={occasion}\r\n                />\r\n              );\r\n            } else return null;\r\n          })}\r\n        </div>\r\n        {/* <EmailSign /> */}\r\n      </div>\r\n    );\r\n  } else {\r\n    return <div></div>;\r\n  }\r\n}\r\n\r\nexport default OccasionList;\r\n","import React from \"react\";\r\n\r\nimport UpNext from \"../components/occasions/UpNext\";\r\nimport OccasionList from \"../components/occasions/OccasionList\";\r\n\r\nfunction UserHome() {\r\n  return (\r\n    <div className=\"occ-home-container\">\r\n      <UpNext />\r\n      <OccasionList />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserHome;\r\n","import React from \"react\";\r\n\r\nfunction addOccSlide1(props) {\r\n  const { nextSlide, handleChange, occasion, error, slide } = props;\r\n  const slideId = 1;\r\n  return (\r\n    <div\r\n      className={\r\n        slideId === slide\r\n          ? \"add-occ-container \"\r\n          : \"add-occ-slide-container add-occ-container-none \"\r\n      }\r\n    >\r\n      <form onSubmit={(e) => e.preventDefault()} className=\"add-occ-form\">\r\n        <h1 className=\"add-occ-title\">What's the special occasion?</h1>\r\n        <div>\r\n          <select\r\n            onChange={handleChange}\r\n            className=\"add-occ-select-occasion\"\r\n            defaultValue=\"Select\"\r\n            name=\"occasion\"\r\n          >\r\n            <option value=\"Select\" disabled>\r\n              Select an occasion\r\n            </option>\r\n            <option value=\"Birthday\">Birthday</option>\r\n            <option value=\"Anniversary\">Anniversary</option>\r\n            <option value=\"Mother's Day\">Mother's Day</option>\r\n            <option value=\"Father's Day\">Father's day</option>\r\n          </select>\r\n\r\n          <p\r\n            className=\"add-occ-error-txt\"\r\n            style={error ? { opacity: 1 } : { opacity: 0 }}\r\n          >\r\n            Field can't be empty!\r\n          </p>\r\n        </div>\r\n        <button\r\n          className=\"add-occ-btn-container\"\r\n          onClick={() => {\r\n            nextSlide(occasion);\r\n          }}\r\n        >\r\n          <p className=\"add-occ-btn-text\">Next Slide</p>\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default addOccSlide1;\r\n","import React from \"react\";\r\n\r\nfunction addOccSlide2(props) {\r\n  const slideId = 2;\r\n  const { slide, nextSlide, prevSlide, occName, handleChange, error } = props;\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        slideId === slide\r\n          ? \"add-occ-container \"\r\n          : \"add-occ-slide-container add-occ-container-none \"\r\n      }\r\n    >\r\n      <form onSubmit={(e) => e.preventDefault()} className=\"add-occ-form\">\r\n        <h1 className=\"add-occ-title\">What's the special someone's name?</h1>\r\n        <div>\r\n          <input\r\n            className=\"add-occ-txt-input\"\r\n            type=\"text\"\r\n            value={occName}\r\n            name=\"occName\"\r\n            onChange={handleChange}\r\n          ></input>\r\n          <p\r\n            className=\"add-occ-error-txt\"\r\n            style={error ? { opacity: 1 } : { opacity: 0 }}\r\n          >\r\n            Field can't be empty!\r\n          </p>\r\n        </div>\r\n        <div>\r\n          <button\r\n            type=\"button\"\r\n            className=\"add-occ-btn-container\"\r\n            onClick={prevSlide}\r\n          >\r\n            <p className=\"btn-template-text\">Prev slide</p>\r\n          </button>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"add-occ-btn-container\"\r\n            onClick={() => nextSlide(occName)}\r\n          >\r\n            <p className=\"add-occ-btn-text\">Next Slide</p>\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default addOccSlide2;\r\n","import React from \"react\";\r\n\r\nfunction addOccSlide3(props) {\r\n  const slideId = 3;\r\n  const {\r\n    occDate,\r\n    slide,\r\n    handleChange,\r\n    checkDate,\r\n    prevSlide,\r\n    error,\r\n    dateError,\r\n  } = props;\r\n\r\n  const errorTxt = () => {\r\n    if (error) {\r\n      return \"Field can't be empty!\";\r\n    } else if (dateError) {\r\n      return \"The date must be in the future\";\r\n    } else {\r\n      return \"Placeholder text\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        slideId === slide\r\n          ? \"add-occ-container \"\r\n          : \"add-occ-slide-container add-occ-container-none \"\r\n      }\r\n    >\r\n      <form onSubmit={(e) => e.preventDefault()} className=\"add-occ-form\">\r\n        <h1 className=\"add-occ-title\">What's the date of the occassion?</h1>\r\n        <div>\r\n          <input\r\n            name=\"date\"\r\n            className=\"add-occ-txt-input\"\r\n            type=\"date\"\r\n            value={occDate}\r\n            onChange={handleChange}\r\n          ></input>\r\n\r\n          <p\r\n            className=\"add-occ-error-txt\"\r\n            style={error || dateError ? { opacity: 1 } : { opacity: 0 }}\r\n          >\r\n            {errorTxt()}\r\n          </p>\r\n        </div>\r\n        <div>\r\n          <button\r\n            type=\"button\"\r\n            className=\"add-occ-btn-container\"\r\n            onClick={prevSlide}\r\n          >\r\n            <p className=\"btn-template-text\">Prev slide</p>\r\n          </button>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"add-occ-btn-container\"\r\n            onClick={() => checkDate()}\r\n          >\r\n            <p className=\"add-occ-btn-text\">Next Slide</p>\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default addOccSlide3;\r\n","import React from \"react\";\r\n\r\nfunction addOccSlide4(props) {\r\n  const slideId = 4;\r\n\r\n  const {\r\n    slide,\r\n    occEmail,\r\n    handleChange,\r\n    prevSlide,\r\n    error,\r\n    handleSubmit,\r\n  } = props;\r\n  return (\r\n    <div\r\n      className={\r\n        slideId === slide\r\n          ? \"add-occ-container \"\r\n          : \"add-occ-slide-container add-occ-container-none \"\r\n      }\r\n    >\r\n      <form onSubmit={(e) => e.preventDefault()} className=\"add-occ-form\">\r\n        <h1 className=\"add-occ-title\">\r\n          What's the email of the special someone?\r\n        </h1>\r\n        <div>\r\n          <input\r\n            className=\"add-occ-txt-input\"\r\n            type=\"text\"\r\n            value={occEmail}\r\n            onChange={handleChange}\r\n            name=\"email\"\r\n          ></input>\r\n\r\n          <p\r\n            className=\"add-occ-error-txt\"\r\n            style={error ? { opacity: 1 } : { opacity: 0 }}\r\n          >\r\n            That's not a valid email!\r\n          </p>\r\n        </div>\r\n        <div>\r\n          <button\r\n            type=\"button\"\r\n            className=\"add-occ-btn-container\"\r\n            onClick={prevSlide}\r\n          >\r\n            <p className=\"add-occ-btn-text\">Prev slide</p>\r\n          </button>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"add-occ-btn-container\"\r\n            onClick={() => handleSubmit(occEmail)}\r\n          >\r\n            <p className=\"add-occ-btn-text\">Next Slide</p>\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\nexport default addOccSlide4;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport BtnTemplate from \"../../navbar/BtnTemplate\";\r\n\r\nfunction addOccSlide5({ slide }) {\r\n  const slideId = 5;\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        slideId === slide\r\n          ? \"add-occ-container\"\r\n          : \"add-occ-container add-occ-container-none\"\r\n      }\r\n    >\r\n      <h1 className=\"add-occ-title\">\r\n        You've succesfully created a special occasion!\r\n      </h1>\r\n      <h3 className=\"add-occ-sub-title\">\r\n        Got to the event's page to set up a thoughtful present!\r\n      </h3>\r\n      <Link to=\"/userhome\">\r\n        <BtnTemplate text=\"Go to your occasions page\" />\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default addOccSlide5;\r\n","const isDateInPast = (inputDate) => {\r\n  const userDate = new Date(`${inputDate} 00:00:00`).getTime();\r\n  const currentDate = new Date().getTime();\r\n  if (userDate < currentDate) {\r\n    return true;\r\n  } else return false;\r\n};\r\n\r\nexport default isDateInPast;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\n//Slides\r\nimport AddOccSlide1 from \"../components/occasions/addOccasion/addOccSlide1\";\r\nimport AddOccSlide2 from \"../components/occasions/addOccasion/addOccSlide2\";\r\nimport AddOccSlide3 from \"../components/occasions/addOccasion/addOccSlide3\";\r\nimport AddOccSlide4 from \"../components/occasions/addOccasion/addOccSlide4\";\r\nimport AddOccSlide5 from \"../components/occasions/addOccasion/addOccSlide5\";\r\n\r\n//Functions\r\nimport isEmailValid from \"../functions/isEmailValid\";\r\nimport isDateInPast from \"../functions/isDateInPast\";\r\n\r\n//Firebase\r\nimport { useFirestore } from \"react-redux-firebase\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nfunction AddOccasion() {\r\n  const [slide, setSlide] = useState(1);\r\n  const [error, setError] = useState(false);\r\n  const [dateError, setDateError] = useState(false);\r\n\r\n  const [occasion, setOccasion] = useState(\"\");\r\n  const [occName, setOccName] = useState(\"\");\r\n  const [occDate, setOccDate] = useState(\"\");\r\n  const [occEmail, setOccEmail] = useState(\"\");\r\n\r\n  const userId = useSelector((state) => state.firebase.auth.uid);\r\n\r\n  const firestore = useFirestore();\r\n\r\n  const handleChange = (e) => {\r\n    setError(false);\r\n    switch (e.target.name) {\r\n      case \"occasion\":\r\n        setOccasion(e.target.value);\r\n        if (e.target.value.trim().length < 1) {\r\n          setError(true);\r\n        } else {\r\n          setError(false);\r\n        }\r\n        break;\r\n      case \"occName\":\r\n        setOccName(e.target.value);\r\n        if (e.target.value.trim().length < 1) {\r\n          setError(true);\r\n        } else {\r\n          setError(false);\r\n        }\r\n        break;\r\n      case \"date\":\r\n        setOccDate(e.target.value);\r\n        if (isDateInPast(occDate)) {\r\n          setDateError(true);\r\n        } else {\r\n          setDateError(false);\r\n        }\r\n        break;\r\n      case \"email\":\r\n        setOccEmail(e.target.value);\r\n\r\n        if (e.target.value.trim().length < 1) {\r\n          setError(true);\r\n        } else {\r\n          setError(false);\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const addOccasion = () => {\r\n    const date = new Date(`${occDate} 00:00:00`);\r\n\r\n    firestore\r\n      .collection(\"occasions\")\r\n      .doc(userId)\r\n      .collection(\"userOccasions\")\r\n      .add({\r\n        occasion,\r\n        occDate: date,\r\n        occName,\r\n        occEmail,\r\n        occGift: false,\r\n      })\r\n      .then(console.log(\"occasion added to firestore\"))\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  useEffect(() => {\r\n    setSlide(1);\r\n  }, []);\r\n\r\n  const nextSlide = (value) => {\r\n    if (value.trim().length < 1) {\r\n      setError(true);\r\n    } else {\r\n      setSlide((slide) => slide + 1);\r\n      setError(false);\r\n    }\r\n  };\r\n\r\n  const prevSlide = () => {\r\n    setSlide((slide) => slide - 1);\r\n  };\r\n\r\n  const checkDate = () => {\r\n    if (!occDate) {\r\n      setError(true);\r\n    } else {\r\n      if (isDateInPast(occDate)) {\r\n        setDateError(true);\r\n        console.log(isDateInPast(occDate));\r\n      } else {\r\n        setSlide((slide) => slide + 1);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (value) => {\r\n    if (!error && isEmailValid(value)) {\r\n      setSlide((slide) => slide + 1);\r\n      addOccasion();\r\n      console.log({ occasion, occDate, occEmail, occName });\r\n    } else {\r\n      setError(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"add-occ-main-container\">\r\n      <AddOccSlide1\r\n        occasion={occasion}\r\n        handleChange={handleChange}\r\n        slide={slide}\r\n        nextSlide={nextSlide}\r\n        error={error}\r\n      />\r\n      <AddOccSlide2\r\n        occName={occName}\r\n        handleChange={handleChange}\r\n        slide={slide}\r\n        prevSlide={prevSlide}\r\n        nextSlide={nextSlide}\r\n        error={error}\r\n      />\r\n      <AddOccSlide3\r\n        dateError={dateError}\r\n        occDate={occDate}\r\n        handleChange={handleChange}\r\n        slide={slide}\r\n        prevSlide={prevSlide}\r\n        error={error}\r\n        checkDate={checkDate}\r\n      />\r\n      <AddOccSlide4\r\n        occEmail={occEmail}\r\n        handleChange={handleChange}\r\n        slide={slide}\r\n        prevSlide={prevSlide}\r\n        handleSubmit={handleSubmit}\r\n        error={error}\r\n      />\r\n      <AddOccSlide5 slide={slide} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddOccasion;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport BtnTemplate from \"../navbar/BtnTemplate\";\r\n\r\nfunction GiftNotOk({ occasionId }) {\r\n  return (\r\n    <div className=\"occasion-page-btn-container\">\r\n      <h1>You have not set a card for this special occasion!</h1>\r\n      <div className=\"occasion-page-options\">\r\n        <Link to={`/giftspage/${occasionId}`}>\r\n          <BtnTemplate text=\"Choose a card\" />\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GiftNotOk;\r\n","import React from \"react\";\r\n\r\nfunction OccPageTitle({ occDate, occName, occasion }) {\r\n  return (\r\n    <div className=\"occasion-page-title\">\r\n      <h2>{occDate && `${occDate}`}</h2>\r\n      <h2>{`is a special occasion because it's`}</h2>\r\n      <h1>{`${occName}'s ${occasion}`}</h1>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default OccPageTitle;\r\n","import React from \"react\";\r\n//Router\r\nimport { Link } from \"react-router-dom\";\r\n//Component\r\nimport BtnTemplate from \"../navbar/BtnTemplate\";\r\n\r\nfunction ConfirmationModal({ modalStatus, yesFunction, noFunction }) {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: modalStatus ? \"block\" : \"none\",\r\n        opacity: modalStatus ? \"1\" : \"0\",\r\n      }}\r\n      className=\"occasion-page-okGift-modal\"\r\n    >\r\n      <div className=\"occasion-page-okGift-modal-container\">\r\n        <h1 className=\"occasion-page-okGift-modal-title\">\r\n          Are you sure you want to unschedule this card?\r\n        </h1>\r\n        <div>\r\n          <Link to=\"/userhome\">\r\n            <BtnTemplate onClick={() => yesFunction()} size=\"sm\" text=\"yes\" />\r\n          </Link>\r\n          <BtnTemplate onClick={() => noFunction(false)} size=\"sm\" text=\"no\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ConfirmationModal;\r\n","import { useState, useEffect } from \"react\";\r\nimport { useFirestore } from \"react-redux-firebase\";\r\n\r\nconst useGetScheduledOccasions = (userId) => {\r\n  const firestore = useFirestore();\r\n  const [scheduledOccasions, setScheduledOccasions] = useState([]);\r\n\r\n  useEffect(() => {\r\n    userId &&\r\n      firestore\r\n        .collection(\"scheduledOccasions\")\r\n        .doc(userId)\r\n        .get()\r\n        .then((doc) => {\r\n          if (doc.exists) {\r\n            let temp = doc.data();\r\n            setScheduledOccasions(temp.scheduledOccasionsInfo);\r\n          } else {\r\n            console.log(\"doc doesnt exist\");\r\n          }\r\n        });\r\n  }, [firestore, userId]);\r\n\r\n  return scheduledOccasions;\r\n};\r\n\r\nexport default useGetScheduledOccasions;\r\n","import React, { useState, useEffect } from \"react\";\r\n//Redux\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n//Router\r\nimport { Link } from \"react-router-dom\";\r\n//Component\r\nimport BtnTemplate from \"../navbar/BtnTemplate\";\r\nimport ConfirmationModal from \"../occasionPage/ConfirmationModal\";\r\n//Hooks\r\nimport useGetScheduledOccasions from \"../../hooks/useGetScheduledOccasions\";\r\n//Modal\r\nimport { toggleUnscheduleModal } from \"../../redux/actions/modalActions\";\r\n//Firestore\r\nimport { useFirestore } from \"react-redux-firebase\";\r\n\r\nfunction GiftOk({ occasionId, occDate, occEmail }) {\r\n  const firestore = useFirestore();\r\n  const dispatch = useDispatch();\r\n\r\n  const [unscheduledOccasions, setUnscheduledOccasions] = useState([]);\r\n  const [currentScheduledOccasion, setCurrentScheduledOccasion] = useState({});\r\n\r\n  const modalStatus = useSelector((state) => state.modal.unscheduleBtn);\r\n  const userId = useSelector((state) => state.firebase.auth.uid);\r\n  const scheduledOccasions = useGetScheduledOccasions(userId);\r\n\r\n  useEffect(() => {\r\n    let tempUnscheduledOccasions = [];\r\n    let tempSingleOcc = {};\r\n    scheduledOccasions.forEach((sOcc) => {\r\n      if (occasionId === sOcc.currentOccasion.occasionId) {\r\n        tempSingleOcc = sOcc;\r\n      } else {\r\n        tempUnscheduledOccasions.push(sOcc);\r\n      }\r\n    });\r\n    setUnscheduledOccasions(tempUnscheduledOccasions);\r\n    setCurrentScheduledOccasion(tempSingleOcc);\r\n  }, [scheduledOccasions, occasionId]);\r\n\r\n  const unscheduleOccasion = () => {\r\n    firestore\r\n      .collection(\"occasions\")\r\n      .doc(userId)\r\n      .collection(\"userOccasions\")\r\n      .doc(occasionId)\r\n      .update({\r\n        occGift: false,\r\n      })\r\n      .catch((err) => console.log(err.message));\r\n\r\n    firestore\r\n      .collection(\"scheduledOccasions\")\r\n      .doc(userId)\r\n      .set({ scheduledOccasionsInfo: unscheduledOccasions })\r\n      .catch((err) => console.log(err.message));\r\n\r\n    toggleModal(false);\r\n  };\r\n\r\n  const toggleModal = (status) => {\r\n    dispatch(toggleUnscheduleModal(status));\r\n  };\r\n\r\n  return (\r\n    <div className=\"occasion-page-btn-container\">\r\n      <div>\r\n        <h1 style={{ fontSize: \"13px\", fontFamily: \"Lato\" }}>\r\n          You already scheduled a card for this occasion.\r\n        </h1>\r\n        {currentScheduledOccasion.card && (\r\n          <div className=\"occ-page-giftOk-container\">\r\n            <img\r\n              className=\"occasion-page-img\"\r\n              src={currentScheduledOccasion.card.url}\r\n              alt=\"card name\"\r\n            ></img>\r\n            <div className=\"occ-page-giftOk-txt-container\">\r\n              <p>Your message:</p>\r\n              <p>{currentScheduledOccasion.card.cardMessage}</p>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div>\r\n        <h3 className=\"occ-page-giftOk-subtitle\">\r\n          This card will be sent on {occDate}\r\n        </h3>\r\n        <h3 className=\"occ-page-giftOk-subtitle\">To {occEmail}</h3>\r\n        <div class=\"occasion-page-giftOk-btn-container\">\r\n          <Link to={`/scheduledpage`}>\r\n            <BtnTemplate text=\"scheduled occasions page\" />\r\n          </Link>\r\n          <BtnTemplate\r\n            onClick={() => toggleModal(true)}\r\n            text=\"unschedule this card\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <ConfirmationModal\r\n        yesFunction={unscheduleOccasion}\r\n        noFunction={toggleModal}\r\n        modalStatus={modalStatus}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GiftOk;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport BtnTemplate from \"../navbar/BtnTemplate\";\r\n\r\nfunction OccInCart() {\r\n  return (\r\n    <div className=\"occasion-page-btn-container\">\r\n      <h1>There's already a card in the scheduler for this occasion.</h1>\r\n      <div className=\"occasion-page-options\">\r\n        <Link to={`/cartpage`}>\r\n          <BtnTemplate text=\"Go to scheduler page\" />\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default OccInCart;\r\n","import React, { useState } from \"react\";\r\nimport ConfirmationModal from \"./ConfirmationModal\";\r\nimport { useFirestore } from \"react-redux-firebase\";\r\nimport { useSelector } from \"react-redux\";\r\nimport useGetScheduledOccasions from \"../../hooks/useGetScheduledOccasions\";\r\nimport useGetCart from \"../../hooks/useGetCart\";\r\n\r\nfunction DeleteBtn({ occasionId }) {\r\n  const [modalStatus, setModalStatus] = useState(false);\r\n  const firestore = useFirestore();\r\n  const userId = useSelector((state) => state.firebase.auth.uid);\r\n  const scheduledOccasions = useGetScheduledOccasions(userId);\r\n  const currentCart = useGetCart();\r\n\r\n  const toggleModal = (status) => {\r\n    setModalStatus(status);\r\n  };\r\n\r\n  const deleteOccasion = () => {\r\n    const filteredScheduled = scheduledOccasions.filter(\r\n      (sOcc) => sOcc.currentOccasion.occasionId !== occasionId\r\n    );\r\n\r\n    const filteredCart = currentCart.filter(\r\n      (item) => item.currentOccasion.occasionId !== occasionId\r\n    );\r\n\r\n    firestore\r\n      .collection(\"cart\")\r\n      .doc(userId)\r\n      .update({ cart: [...filteredCart] });\r\n\r\n    firestore\r\n      .collection(\"scheduledOccasions\")\r\n      .doc(userId)\r\n      .set({ scheduledOccasionsInfo: filteredScheduled })\r\n      .catch((err) => console.log(err.message));\r\n\r\n    firestore\r\n      .collection(\"occasions\")\r\n      .doc(userId)\r\n      .collection(\"userOccasions\")\r\n      .doc(occasionId)\r\n      .delete()\r\n      .then(toggleModal(false))\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"occasion-page-delete-btn-container\">\r\n        <p\r\n          onClick={() => toggleModal(true)}\r\n          className=\"occasion-page-delete-btn\"\r\n        >\r\n          delete occasion\r\n        </p>\r\n      </div>\r\n      <ConfirmationModal\r\n        modalStatus={modalStatus}\r\n        yesFunction={deleteOccasion}\r\n        noFunction={toggleModal}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default DeleteBtn;\r\n","import React, { useState, useEffect } from \"react\";\r\n//Router\r\nimport { useParams } from \"react-router-dom\";\r\n//Components\r\nimport GiftNotOk from \"../components/occasionPage/GiftNotOk\";\r\nimport OccPageTitle from \"../components/occasionPage/OccPageTitle\";\r\nimport GiftOk from \"../components/occasionPage/GiftOk\";\r\nimport OccInCart from \"../components/occasionPage/OccInCart\";\r\nimport DeleteBtn from \"../components/occasionPage/DeleteBtn\";\r\n//Hooks\r\nimport useCurrentOccasion from \"../hooks/useCurrentOccasion\";\r\nimport useGetCart from \"../hooks/useGetCart\";\r\n//Moment\r\nimport moment from \"moment\";\r\n\r\nfunction OccasionPage() {\r\n  const [occasionInCart, setOccasionInCart] = useState(false);\r\n  const { occasionId } = useParams();\r\n  const currentOccasion = useCurrentOccasion(occasionId);\r\n  const { occDate, occName, occasion, occGift, occEmail } = currentOccasion;\r\n  const currentCart = useGetCart();\r\n\r\n  useEffect(() => {\r\n    currentCart.forEach((item) => {\r\n      if (item.currentOccasion.occasionId === occasionId) {\r\n        setOccasionInCart(true);\r\n      }\r\n    });\r\n  }, [currentCart, occasionId]);\r\n\r\n  if (occasion) {\r\n    return (\r\n      <div className=\"occasion-page-container\">\r\n        <>\r\n          <OccPageTitle\r\n            occDate={moment(occDate.toDate()).format(\"LL\")}\r\n            occName={occName}\r\n            occasion={occasion}\r\n          />\r\n          <div className=\"occasion-page-status\">\r\n            {occGift ? (\r\n              <GiftOk\r\n                occEmail={occEmail}\r\n                occasionId={occasionId}\r\n                occDate={moment(occDate.toDate()).format(\"LL\")}\r\n              />\r\n            ) : occasionInCart ? (\r\n              <OccInCart />\r\n            ) : (\r\n              <GiftNotOk occasionId={occasionId} />\r\n            )}\r\n          </div>\r\n        </>\r\n        <DeleteBtn occasionId={occasionId} />\r\n      </div>\r\n    );\r\n  } else {\r\n    return <></>;\r\n  }\r\n}\r\n\r\nexport default OccasionPage;\r\n","import { useState, useEffect } from \"react\";\r\nimport { useFirestore } from \"react-redux-firebase\";\r\n\r\nconst useCardList = () => {\r\n  const [cards, setCards] = useState([]);\r\n  const firestore = useFirestore();\r\n\r\n  useEffect(() => {\r\n    firestore\r\n      .collection(\"cards\")\r\n      .get()\r\n      .then((snap) => {\r\n        let tempCards = [];\r\n        snap.forEach((doc) => {\r\n          tempCards.push({ ...doc.data(), cardId: doc.id });\r\n        });\r\n        setCards(tempCards);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, [firestore, setCards]);\r\n\r\n  return cards;\r\n};\r\n\r\nexport default useCardList;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction SingleCard({ cardName, cardAuthor, url, cardId }) {\r\n  return (\r\n    <div className=\"single-card-container\">\r\n      <Link to={`/singlecardpage/${cardId}`}>\r\n        <img alt=\"cardName\" src={url} className=\"single-card-image\"></img>\r\n        <div className=\"single-card-txt-container\">\r\n          <h2 className=\"single-card-name\"> {cardName}</h2>\r\n          <h4 className=\"single-card-author\"> by {cardAuthor}</h4>\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SingleCard;\r\n","import React, { useState, useEffect } from \"react\";\r\n//Hooks\r\nimport useCardList from \"../hooks/useCardList\";\r\n//Component\r\nimport SingleCard from \"../components/gifts/SingleCard\";\r\n//State\r\nimport { useSelector } from \"react-redux\";\r\n//Router\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nexport default function GiftsPage() {\r\n  const { occName, occasion } = useSelector(\r\n    (state) => state.occasions.currentOccasion\r\n  );\r\n\r\n  const cards = useCardList();\r\n\r\n  //Redirect for when people hit refresh and state in redux is reset.\r\n  const [redirect, setRedirect] = useState(false);\r\n  useEffect(() => {\r\n    if (occName === undefined) {\r\n      setRedirect(true);\r\n    }\r\n  }, [occName]);\r\n\r\n  return (\r\n    <div className=\"gift-page-container \">\r\n      {redirect && <Redirect to=\"/userhome\" />}\r\n      <div className=\"gift-page-title\">\r\n        <h2>Choose a gift for</h2>\r\n        <h1>{`${occName}'s ${occasion}`}</h1>\r\n      </div>\r\n      <div className=\"gift-page-cards-container\">\r\n        {cards.map((card) => {\r\n          if (card.occasion === occasion) {\r\n            return (\r\n              <SingleCard\r\n                cardName={card.cardName}\r\n                cardAuthor={card.cardAuthor}\r\n                url={card.url}\r\n                key={card.cardName}\r\n                cardId={card.cardId}\r\n              />\r\n            );\r\n          } else {\r\n            return null;\r\n          }\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nfunction SingleCardPageMiddle({ card, handleChange }) {\r\n  return (\r\n    <div className=\"single-card-page-mid-container\">\r\n      <img\r\n        className=\"single-card-page-img\"\r\n        src={card.url}\r\n        alt={`${card.cardName}`}\r\n      ></img>\r\n      <form className=\"single-card-page-form\">\r\n        <label>Write something to send on your card</label>\r\n        <textarea\r\n          onChange={(e) => handleChange(e)}\r\n          className=\"single-card-page-input\"\r\n          type=\"text\"\r\n          name=\"cardText\"\r\n        ></textarea>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SingleCardPageMiddle;\r\n","import React, { useState, useEffect } from \"react\";\r\n//Router\r\nimport { useParams, Link, Redirect } from \"react-router-dom\";\r\n//State\r\nimport { useSelector } from \"react-redux\";\r\n//Components\r\nimport BtnTemplate from \"../components/navbar/BtnTemplate\";\r\nimport SingleCardPageMiddle from \"../components/gifts/SingleCardPageMiddle\";\r\n//Hook\r\nimport useCardList from \"../hooks/useCardList\";\r\nimport useGetCart from \"../hooks/useGetCart\";\r\n//Firestore\r\nimport { useFirestore } from \"react-redux-firebase\";\r\n\r\nfunction SingleCardPage() {\r\n  const userId = useSelector((state) => state.firebase.auth.uid);\r\n  const currentOccasion = useSelector(\r\n    (state) => state.occasions.currentOccasion\r\n  );\r\n  const { occName, occasion } = currentOccasion;\r\n\r\n  const [cardMessage, setCardMessage] = useState(\"\");\r\n\r\n  const firestore = useFirestore();\r\n  const cart = useGetCart();\r\n\r\n  const { cardId } = useParams();\r\n  const allCards = useCardList();\r\n  let card = allCards.filter((card) => card.cardId === cardId)[0];\r\n\r\n  //Redirect for when people hit refresh and state in redux is reset.\r\n  const [redirect, setRedirect] = useState(false);\r\n  useEffect(() => {\r\n    if (occName === undefined) {\r\n      setRedirect(true);\r\n    }\r\n  }, [occName]);\r\n\r\n  //Use this for people going back from the cart without passing through userhome\r\n  const [itemAlreadyInCart, setItemAlreadyInCart] = useState(false);\r\n  useEffect(() => {\r\n    cart.forEach((cartItem) => {\r\n      if (currentOccasion.occasionId === cartItem.currentOccasion.occasionId) {\r\n        setItemAlreadyInCart(true);\r\n      }\r\n    });\r\n  }, [cart, currentOccasion]);\r\n\r\n  const handleChange = (e) => {\r\n    setCardMessage(e.target.value);\r\n  };\r\n\r\n  const addToCart = (item) => {\r\n    item.card.cardMessage = cardMessage;\r\n    console.log(item);\r\n    firestore\r\n      .collection(\"cart\")\r\n      .doc(userId)\r\n      .set({ cart: [...cart, item] });\r\n  };\r\n\r\n  if (card) {\r\n    return (\r\n      <div className=\"single-card-page-container\">\r\n        {itemAlreadyInCart && <Redirect to=\"/userhome\" />}\r\n        {redirect && <Redirect to=\"/userhome\" />}\r\n        {occName && (\r\n          <div className=\"gift-page-title\">\r\n            <h2>Write something for</h2>\r\n            <h1>{`${occName}'s ${occasion}`}</h1>\r\n          </div>\r\n        )}\r\n        <SingleCardPageMiddle handleChange={handleChange} card={card} />\r\n        <Link to=\"/cartpage\">\r\n          <BtnTemplate\r\n            onClick={() => addToCart({ card, currentOccasion })}\r\n            text=\"Send to scheduler\"\r\n          />\r\n        </Link>\r\n        <h2>{card.cardName}</h2>\r\n        <h5>by {card.cardAuthor}</h5>\r\n      </div>\r\n    );\r\n  } else {\r\n    return <div></div>;\r\n  }\r\n}\r\n\r\nexport default SingleCardPage;\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport { BsTrash } from \"react-icons/bs\";\r\n\r\nfunction CartItem({ item, currentCart, deleteItem }) {\r\n  return (\r\n    <div className=\"cart-item-container\">\r\n      <img className=\"cart-item-img\" src={item.card.url} alt=\"card name\"></img>\r\n      <div className=\"cart-item-text\">\r\n        <h4 className=\"cart-item-title\">{item.card.cardName}</h4>\r\n        <h6>\r\n          For {item.currentOccasion.occName}'s {item.currentOccasion.occasion}\r\n        </h6>\r\n        <h6>\r\n          This item will be sent on{\" \"}\r\n          {moment(item.currentOccasion.occDate.toDate()).format(\"LL\")}\r\n          {\"\"}\r\n        </h6>\r\n        <h6>to jnicolon@gmail.com</h6>\r\n      </div>\r\n      <div\r\n        onClick={() => deleteItem(currentCart.indexOf(item))}\r\n        className=\"cart-item-delete\"\r\n      >\r\n        <BsTrash className=\"navbar-icon\"></BsTrash>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CartItem;\r\n","const handleClickCartPage = async (currentCart, userId, firestore) => {\r\n  //Change gift status of occasions to true\r\n  let giftOccasions = [];\r\n  currentCart.forEach((element) => {\r\n    giftOccasions.push(element.currentOccasion.occasionId);\r\n  });\r\n\r\n  giftOccasions.forEach((element) => {\r\n    firestore\r\n      .collection(\"occasions\")\r\n      .doc(userId)\r\n      .collection(\"userOccasions\")\r\n      .doc(element)\r\n      .update({\r\n        scheduledOccasionId: element,\r\n        occGift: true,\r\n      });\r\n  });\r\n\r\n  //Empty the cart after clicking\r\n  firestore.collection(\"cart\").doc(userId).set({\r\n    cart: [],\r\n  });\r\n\r\n  //update the scheduled occasions\r\n  let tempScheduledOccasions = await firestore\r\n    .collection(\"scheduledOccasions\")\r\n    .doc(userId)\r\n    .get()\r\n    .then((doc) => {\r\n      if (doc.exists) {\r\n        return doc.data();\r\n      } else {\r\n        return [];\r\n      }\r\n    });\r\n  console.log(tempScheduledOccasions);\r\n\r\n  let currentUserInfo = await firestore\r\n    .collection(\"users\")\r\n    .doc(userId)\r\n    .get()\r\n    .then((doc) => {\r\n      if (doc.exists) {\r\n        return { currentUserInfo: doc.data() };\r\n      } else return [];\r\n    });\r\n\r\n  let oldScheduledOccasions;\r\n  if (tempScheduledOccasions.scheduledOccasionsInfo) {\r\n    oldScheduledOccasions = tempScheduledOccasions.scheduledOccasionsInfo;\r\n  } else {\r\n    oldScheduledOccasions = [];\r\n  }\r\n\r\n  let newScheduledOccasions = [...oldScheduledOccasions, ...currentCart];\r\n  let finalScheduledOccasions = [];\r\n\r\n  newScheduledOccasions.forEach((occ) => {\r\n    finalScheduledOccasions.push({ ...occ, ...currentUserInfo });\r\n  });\r\n\r\n  firestore\r\n    .collection(\"scheduledOccasions\")\r\n    .doc(userId)\r\n    .set({ scheduledOccasionsInfo: finalScheduledOccasions })\r\n    .then(console.log(\"scheduled occasions set!\"));\r\n};\r\n\r\nexport default handleClickCartPage;\r\n","import React from \"react\";\r\n//Redux\r\nimport { useSelector } from \"react-redux\";\r\n//Component\r\nimport BtnTemplate from \"../components/navbar/BtnTemplate\";\r\nimport CartItem from \"../components/cart/CartItem\";\r\n//Firestore\r\nimport { useFirestore } from \"react-redux-firebase\";\r\n//Router\r\nimport { Link } from \"react-router-dom\";\r\n//Hooks\r\nimport useGetCart from \"../hooks/useGetCart\";\r\n//Function\r\nimport handleClickCartPage from \"../functions/handleClickCartPage\";\r\n\r\nfunction CartPage() {\r\n  const currentCart = useGetCart();\r\n  const userId = useSelector((state) => state.firebase.auth.uid);\r\n  const firestore = useFirestore();\r\n\r\n  const deleteItem = (target) => {\r\n    const tempCurrentCart = [...currentCart];\r\n    tempCurrentCart.splice(target, 1);\r\n    firestore\r\n      .collection(\"cart\")\r\n      .doc(userId)\r\n      .update({ cart: [...tempCurrentCart] });\r\n  };\r\n\r\n  return (\r\n    <div className=\"cart-page-container\">\r\n      <h1 className=\"cart-page-title\">\r\n        Review your occasions before scheduling them\r\n      </h1>\r\n      <div className=\"cart-page-inner-container\">\r\n        <div className=\"cart-page-items-main-container\">\r\n          {currentCart.length > 0 ? (\r\n            currentCart.map((item) => {\r\n              return (\r\n                <CartItem\r\n                  key={currentCart.indexOf(item)}\r\n                  item={item}\r\n                  currentCart={currentCart}\r\n                  deleteItem={deleteItem}\r\n                />\r\n              );\r\n            })\r\n          ) : (\r\n            <h3>There are no items in the scheduler right now.</h3>\r\n          )}\r\n        </div>\r\n        <div className=\"cart-page-btn-container\">\r\n          {currentCart.length > 0 && (\r\n            <BtnTemplate\r\n              onClick={() =>\r\n                handleClickCartPage(currentCart, userId, firestore)\r\n              }\r\n              text={\r\n                currentCart.length === 1\r\n                  ? \"Schedule this gift\"\r\n                  : \"Schedule these gifts\"\r\n              }\r\n            />\r\n          )}\r\n\r\n          <div className=\"cart-page-link-container\">\r\n            <Link to=\"/\">\r\n              <p className=\"cart-page-link\">Return to your occasions list</p>\r\n            </Link>\r\n\r\n            <Link to=\"/scheduledpage\">\r\n              <p className=\"cart-page-link\">See all scheduled cards</p>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CartPage;\r\n","import React from \"react\";\r\n//Moment\r\nimport moment from \"moment\";\r\n//Router\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction ScheduledItem({ item, scheduledOccasions }) {\r\n  return (\r\n    <Link\r\n      key={scheduledOccasions.indexOf(item)}\r\n      to={`/occasionpage/${item.currentOccasion.occasionId}`}\r\n    >\r\n      <div className=\"scheduled-page-item-container\">\r\n        <img\r\n          className=\"scheduled-page-item-img\"\r\n          src={item.card.url}\r\n          alt={`card name ${item.card.cardName}`}\r\n        ></img>\r\n        <div>\r\n          <p className=\"scheduled-page-item-title\">\r\n            {`For ${item.currentOccasion.occName}'s ${item.currentOccasion.occasion}`}\r\n          </p>\r\n          <p className=\"scheduled-page-item-txt\">\r\n            {`You have selected the card ${item.card.cardName} by ${item.card.cardAuthor}`}\r\n          </p>\r\n          <p className=\"scheduled-page-item-txt\">{`to be sent on ${moment(\r\n            item.currentOccasion.occDate.toDate()\r\n          ).format(\"LL\")} to ${item.currentOccasion.occEmail}`}</p>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\n\r\nexport default ScheduledItem;\r\n","import React, { useState } from \"react\";\r\n//Redux\r\nimport { useSelector } from \"react-redux\";\r\n//Moment\r\nimport moment from \"moment\";\r\n//Hooks\r\nimport useGetScheduledOccasions from \"../hooks/useGetScheduledOccasions\";\r\n//Component\r\nimport ScheduledItem from \"../components/scheduledpage/ScheduledItem\";\r\n\r\nfunction ScheduledPage() {\r\n  const userId = useSelector((state) => state.firebase.auth.uid);\r\n  const scheduledOccasions = useGetScheduledOccasions(userId);\r\n  const [orderBy, setOrderBy] = useState(\"occDate\");\r\n\r\n  const orderScheduledArray = (order) => {\r\n    if (order === \"occDate\") {\r\n      scheduledOccasions.sort((a, b) => {\r\n        return (\r\n          a.currentOccasion.occDateString - b.currentOccasion.occDateString\r\n        );\r\n      });\r\n    } else if (order === \"occName\") {\r\n      scheduledOccasions.sort((a, b) => {\r\n        let nameA = a.currentOccasion.occName.toUpperCase(); // ignore upper and lowercase\r\n        let nameB = b.currentOccasion.occName.toUpperCase(); // ignore upper and lowercase\r\n        if (nameA < nameB) {\r\n          return -1;\r\n        }\r\n        if (nameA > nameB) {\r\n          return 1;\r\n        }\r\n        // names must be equal\r\n        return 0;\r\n      });\r\n    }\r\n\r\n    setOrderBy(order);\r\n  };\r\n\r\n  return (\r\n    <div className=\"scheduled-page-container\">\r\n      <h3>Your scheduled occasions</h3>\r\n      <div className=\"scheduled-page-btn-container\">\r\n        <h2 className=\"scheduled-page-btn\">OrderBy</h2>\r\n        <h1\r\n          onClick={() => orderScheduledArray(\"occName\")}\r\n          className={\r\n            orderBy === \"occName\"\r\n              ? \"scheduled-page-btn-selected\"\r\n              : \"scheduled-page-btn\"\r\n          }\r\n        >\r\n          Name\r\n        </h1>\r\n        <h1\r\n          onClick={() => orderScheduledArray(\"occDate\")}\r\n          className={\r\n            orderBy === \"occDate\"\r\n              ? \"scheduled-page-btn-selected\"\r\n              : \"scheduled-page-btn\"\r\n          }\r\n        >\r\n          Date\r\n        </h1>\r\n      </div>\r\n      {scheduledOccasions &&\r\n        scheduledOccasions.map((item) => {\r\n          let today = new Date();\r\n          let compare = new Date(\r\n            moment(item.currentOccasion.occDate.toDate()).format()\r\n          );\r\n          if (compare.getTime() >= today.getTime()) {\r\n            return (\r\n              <ScheduledItem\r\n                key={scheduledOccasions.indexOf(item)}\r\n                item={item}\r\n                scheduledOccasions={scheduledOccasions}\r\n              />\r\n            );\r\n          } else {\r\n            return null;\r\n          }\r\n        })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ScheduledPage;\r\n","import React, { useState } from \"react\";\r\nimport { BiMailSend } from \"react-icons/bi\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction EmailTest() {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  return (\r\n    <div className=\"email-container\">\r\n      <h4 className=\"occ-upNext-title\">Email Test</h4>\r\n      <h2 className=\"occ-upNext-name\">How the email functionality works:</h2>\r\n      <div className=\"occ-upNext-center\">\r\n        <div\r\n          style={{ textAlign: \"center\" }}\r\n          className=\"occ-upNext-left-container\"\r\n        >\r\n          <h7 className=\"email-txt\">\r\n            To send the emails on the approriate dates, I set up a cron job\r\n            using firebase functions and google scheduler that checks if any of\r\n            the dates of the scheduled occasions of all users has a card set up\r\n            with the same date as today.\r\n          </h7>\r\n          <h7 className=\"email-txt\">\r\n            Then I extract the relevant data from the scheduled occasion and I\r\n            use nodemailer to send it.\r\n          </h7>\r\n          <h7 className=\"email-txt\">To test the functionality:</h7>\r\n          <h7 className=\"email-txt\">\r\n            * Create one or more occasions with the date January 1st 2022\r\n          </h7>\r\n          <h7 className=\"email-txt\">\r\n            * Set it up whith an email you can easily check\r\n          </h7>\r\n          <h7 className=\"email-txt\">\r\n            * Come back to this page and click on the button bellow to manually\r\n            trigger the function\r\n          </h7>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <a href=\"https://us-central1-thoughtfulv3.cloudfunctions.net/sendScheduledMail\">\r\n          <BiMailSend className=\"email-icon\" />\r\n        </a>\r\n\r\n        <h7 className=\"email-txt\">Loading...</h7>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EmailTest;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction NotFound() {\r\n  return (\r\n    <div className=\"email-container\">\r\n      <h4 className=\"occ-upNext-title\">Occasions</h4>\r\n      <br />\r\n      <h2 className=\"occ-upNext-name\">404</h2>\r\n      <h2 className=\"occ-upNext-name\">Page not found</h2>\r\n      <div className=\"occ-upNext-center\">\r\n        <div\r\n          style={{ textAlign: \"center\" }}\r\n          className=\"occ-upNext-left-container\"\r\n        ></div>\r\n      </div>\r\n      <br />\r\n\r\n      <Link to=\"/\">\r\n        <h4 className=\"occ-upNext-title\">Back to home page.</h4>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NotFound;\r\n","import React, { useEffect } from \"react\";\r\n\r\n//Css\r\nimport \"./App.scss\";\r\n\r\n//Router\r\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\r\nimport AuthRoute from \"./components/auth/AuthRoute\";\r\n\r\n//State\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { toggleAuthStatus } from \"./redux/actions/authActions\";\r\n\r\n//Firebase\r\nimport { useFirebase } from \"react-redux-firebase\";\r\n\r\n//Pages\r\nimport Home from \"./pages/Home\";\r\nimport Navbar from \"./components/navbar/Navbar\";\r\nimport LogIn from \"./pages/LogIn\";\r\nimport SignUp from \"./pages/SignUp\";\r\nimport UserHome from \"./pages/UserHome\";\r\nimport AddOccasion from \"./pages/AddOccasion\";\r\nimport OccasionPage from \"./pages/OccasionPage\";\r\nimport GiftsPage from \"./pages/GiftsPage\";\r\nimport SingleCardPage from \"./pages/SingleCardPage\";\r\nimport CartPage from \"./pages/CartPage\";\r\nimport ScheduledPage from \"./pages/ScheduledPage\";\r\nimport EmailTest from \"./pages/EmailTest\";\r\nimport NotFound from \"./pages/NotFound\";\r\n\r\n//Modal\r\nimport { toggleProfileModal } from \"./redux/actions/modalActions\";\r\n\r\nfunction App() {\r\n  const profileBtnModalStatus = useSelector((state) => state.modal.profileBtn);\r\n  const firebase = useFirebase();\r\n  const dispatch = useDispatch();\r\n\r\n  const handleModal = (e) => {\r\n    if (profileBtnModalStatus) {\r\n      dispatch(toggleProfileModal());\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        dispatch(toggleAuthStatus(true));\r\n      } else {\r\n        dispatch(toggleAuthStatus(false));\r\n      }\r\n    });\r\n  });\r\n\r\n  return (\r\n    <div onClick={(e) => handleModal(e)}>\r\n      <HashRouter basename=\"/\">\r\n        <Navbar />\r\n        <div className=\"main-container\">\r\n          <Switch>\r\n            <Route exact path=\"/\" component={Home} />\r\n            <Route path=\"/login\" component={LogIn} />\r\n            <Route path=\"/signup\" component={SignUp} />\r\n            <AuthRoute path=\"/userhome\" component={UserHome} />\r\n            <AuthRoute path=\"/addoccasion\" component={AddOccasion} />\r\n            <AuthRoute\r\n              path=\"/occasionpage/:occasionId\"\r\n              component={OccasionPage}\r\n            />\r\n            <AuthRoute path=\"/giftspage/:occasionId\" component={GiftsPage} />\r\n            <AuthRoute\r\n              path=\"/singlecardpage/:cardId\"\r\n              component={SingleCardPage}\r\n            />\r\n            <AuthRoute path=\"/cartpage\" component={CartPage} />\r\n            <AuthRoute path=\"/scheduledpage\" component={ScheduledPage} />\r\n            <AuthRoute path=\"/emailtest\" component={EmailTest} />\r\n            <Route component={NotFound} />\r\n          </Switch>\r\n        </div>\r\n      </HashRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import * as actions from \"../actions\";\r\n\r\nconst initState = {\r\n  currentOccasion: {},\r\n};\r\n\r\nconst occasionsReducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case actions.SET_CURRENT_OCCASION:\r\n      return {\r\n        ...state,\r\n        currentOccasion: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default occasionsReducer;\r\n","import * as actions from \"../actions\";\r\n\r\nconst initState = {\r\n  cart: [],\r\n  currentCart: [],\r\n};\r\n\r\nconst cartReducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case actions.SET_CART:\r\n      return {\r\n        cart: [...action.payload],\r\n      };\r\n    case actions.ADD_ITEM_TO_CART:\r\n      return {\r\n        cart: [...state.cart, action.payload],\r\n      };\r\n    case actions.SET_CURRENT_CART:\r\n      return {\r\n        currentCart: [action.payload],\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default cartReducer;\r\n","import * as actions from \"../actions\";\r\n\r\nconst initState = {\r\n  profileBtn: false,\r\n  unscheduleBtn: false,\r\n};\r\n\r\nconst modalReducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case actions.TOGGLE_PROFILE_MODAL:\r\n      return {\r\n        profileBtn: action.payload,\r\n      };\r\n    case actions.TOGGLE_UNSCHEDULE_MODAL:\r\n      return {\r\n        unscheduleBtn: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default modalReducer;\r\n","import * as actions from \"../actions\";\r\n\r\nconst initState = {\r\n  loggedIn: \"\",\r\n};\r\n\r\nconst authReducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case actions.TOGGLE_LOGGED_STATUS:\r\n      return {\r\n        loggedIn: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import occasionsReducer from \"./occassionsReducer\";\r\nimport cartReducer from \"./cartReducer\";\r\nimport modalReducer from \"./modalReducer\";\r\nimport authReducer from \"./authReducer\";\r\n\r\nimport { combineReducers } from \"redux\";\r\nimport { firebaseReducer } from \"react-redux-firebase\";\r\nimport { firestoreReducer } from \"redux-firestore\";\r\n\r\nconst rootReducer = combineReducers({\r\n  modal: modalReducer,\r\n  occasions: occasionsReducer,\r\n  cart: cartReducer,\r\n  firebase: firebaseReducer,\r\n  firestore: firestoreReducer,\r\n  auth: authReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\";\r\n\r\nconst API_KEY = process.env.REACT_APP_GOOGLE_API_KEY;\r\nconst AUTH = process.env.REACT_APP_GOOGLE_AUTH_DOMAIN;\r\nconst PROJECT_ID = process.env.REACT_APP_GOOGLE_PROJECT_ID;\r\nconst STORAGE = process.env.REACT_APP_GOOGLE_STORAGE_BUCKET;\r\nconst MSG_ID = process.env.REACT_APP_GOOGLE_MESSAGING_SENDING_ID;\r\nconst APP_ID = process.env.REACT_APP_GOOGLE_APP_ID;\r\nconst M_ID = process.env.REACT_APP_GOOGLE_MEASUREMENT_ID;\r\n\r\n// Your web app's Firebase configuration\r\nvar firebaseConfig = {\r\n  apiKey: API_KEY,\r\n  authDomain: AUTH,\r\n  projectId: PROJECT_ID,\r\n  storageBucket: STORAGE,\r\n  messagingSenderId: MSG_ID,\r\n  appId: APP_ID,\r\n  measurementId: M_ID,\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nfirebase.firestore();\r\n\r\nexport default firebase;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\n//Redux\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport { Provider } from \"react-redux\";\r\nimport rootReducer from \"./redux/reducers/rootReducer\";\r\nimport thunk from \"redux-thunk\";\r\n\r\n//Firebase\r\nimport { createFirestoreInstance, getFirestore } from \"redux-firestore\";\r\nimport { getFirebase, ReactReduxFirebaseProvider } from \"react-redux-firebase\";\r\nimport firebase from \"./config/fbConfig\";\r\n\r\nconst rrfConfig = { userProfile: \"users\", useFirestoreForProfile: true };\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(\r\n    applyMiddleware(thunk.withExtraArgument({ getFirebase, getFirestore }))\r\n  )\r\n);\r\n\r\nconst rrfProps = {\r\n  firebase,\r\n  config: rrfConfig,\r\n  dispatch: store.dispatch,\r\n  createFirestoreInstance,\r\n};\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <ReactReduxFirebaseProvider {...rrfProps}>\r\n        <App />\r\n      </ReactReduxFirebaseProvider>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}